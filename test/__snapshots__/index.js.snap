// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`error examples: test/fixtures-errors/cannot-use-end-on-method.protocol 1`] = `"Method cannot be called 'end' (at 4:4)"`;

exports[`error examples: test/fixtures-errors/cannot-use-end-on-state.protocol 1`] = `"You cannot have a state called 'end' (at 3:2)"`;

exports[`error examples: test/fixtures-errors/decision-without-choices.protocol 1`] = `"Unexpected token >, expected identifier (at 4:18)"`;

exports[`error examples: test/fixtures-errors/duplicate-label.protocol 1`] = `"Duplicate case label: OK (at 4:27)"`;

exports[`error examples: test/fixtures-errors/duplicate-method.protocol 1`] = `"Duplicate method signature: close() (at 11:4)"`;

exports[`error examples: test/fixtures-errors/duplicate-state.protocol 1`] = `"Duplicated Init state (at 5:2)"`;

exports[`error examples: test/fixtures-errors/final-comma-in-decision.protocol 1`] = `"Unexpected token >, expected identifier (at 4:24)"`;

exports[`error examples: test/fixtures-errors/final-comma-in-method.protocol 1`] = `"Unexpected token ), expected identifier (at 4:17)"`;

exports[`error examples: test/fixtures-errors/not-defined.protocol 1`] = `"State not defined: Something (at 4:17)"`;

exports[`mungo examples: ast test/fixtures/ThreeParties/BobProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 29,
      "pos": 468,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "BobProtocol",
  "states": Array [
    Object {
      "_name": "Connect",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 6,
          "pos": 101,
        },
        "start": Object {
          "column": 1,
          "line": 4,
          "pos": 57,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 29,
              "line": 5,
              "pos": 98,
            },
            "start": Object {
              "column": 2,
              "line": 5,
              "pos": 71,
            },
          },
          "name": "connect",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 5,
                "pos": 75,
              },
              "start": Object {
                "column": 2,
                "line": 5,
                "pos": 71,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 29,
                "line": 5,
                "pos": 98,
              },
              "start": Object {
                "column": 19,
                "line": 5,
                "pos": 88,
              },
            },
            "name": "GreetAlice",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "Connect",
      "type": "State",
    },
    Object {
      "_name": "GreetAlice",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 10,
          "pos": 167,
        },
        "start": Object {
          "column": 1,
          "line": 8,
          "pos": 104,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 30,
                  "line": 9,
                  "pos": 149,
                },
                "start": Object {
                  "column": 24,
                  "line": 9,
                  "pos": 143,
                },
              },
              "name": "String",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 44,
              "line": 9,
              "pos": 163,
            },
            "start": Object {
              "column": 2,
              "line": 9,
              "pos": 121,
            },
          },
          "name": "sendHelloToAlice",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 9,
                "pos": 125,
              },
              "start": Object {
                "column": 2,
                "line": 9,
                "pos": 121,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 44,
                "line": 9,
                "pos": 163,
              },
              "start": Object {
                "column": 34,
                "line": 9,
                "pos": 153,
              },
            },
            "name": "GreetCarol",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "GreetAlice",
      "type": "State",
    },
    Object {
      "_name": "GreetCarol",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 14,
          "pos": 232,
        },
        "start": Object {
          "column": 1,
          "line": 12,
          "pos": 170,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 30,
                  "line": 13,
                  "pos": 215,
                },
                "start": Object {
                  "column": 24,
                  "line": 13,
                  "pos": 209,
                },
              },
              "name": "String",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 44,
              "line": 13,
              "pos": 229,
            },
            "start": Object {
              "column": 2,
              "line": 13,
              "pos": 187,
            },
          },
          "name": "sendHelloToCarol",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 13,
                "pos": 191,
              },
              "start": Object {
                "column": 2,
                "line": 13,
                "pos": 187,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 44,
                "line": 13,
                "pos": 229,
              },
              "start": Object {
                "column": 34,
                "line": 13,
                "pos": 219,
              },
            },
            "name": "MakeChoice",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "GreetCarol",
      "type": "State",
    },
    Object {
      "_name": "MakeChoice",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 23,
          "pos": 413,
        },
        "start": Object {
          "column": 1,
          "line": 16,
          "pos": 235,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 3,
              "line": 19,
              "pos": 329,
            },
            "start": Object {
              "column": 2,
              "line": 17,
              "pos": 252,
            },
          },
          "name": "sendTimeChoiceToAlice",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 17,
                "pos": 256,
              },
              "start": Object {
                "column": 2,
                "line": 17,
                "pos": 252,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "unknown:5",
            "loc": Object {
              "end": Object {
                "column": 3,
                "line": 19,
                "pos": 329,
              },
              "start": Object {
                "column": 33,
                "line": 17,
                "pos": 283,
              },
            },
            "methods": Array [
              Object {
                "arguments": Array [],
                "loc": Object {
                  "end": Object {
                    "column": 40,
                    "line": 18,
                    "pos": 325,
                  },
                  "start": Object {
                    "column": 3,
                    "line": 18,
                    "pos": 288,
                  },
                },
                "name": "recvTimeFromAlice",
                "returnType": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 6,
                      "line": 18,
                      "pos": 291,
                    },
                    "start": Object {
                      "column": 3,
                      "line": 18,
                      "pos": 288,
                    },
                  },
                  "name": "int",
                  "type": "Identifier",
                },
                "transition": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 40,
                      "line": 18,
                      "pos": 325,
                    },
                    "start": Object {
                      "column": 29,
                      "line": 18,
                      "pos": 314,
                    },
                  },
                  "name": "EndProtocol",
                  "type": "Identifier",
                },
                "type": "Method",
              },
            ],
            "name": null,
            "type": "State",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 3,
              "line": 22,
              "pos": 410,
            },
            "start": Object {
              "column": 2,
              "line": 20,
              "pos": 333,
            },
          },
          "name": "sendTimeChoiceToCarol",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 20,
                "pos": 337,
              },
              "start": Object {
                "column": 2,
                "line": 20,
                "pos": 333,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "unknown:6",
            "loc": Object {
              "end": Object {
                "column": 3,
                "line": 22,
                "pos": 410,
              },
              "start": Object {
                "column": 33,
                "line": 20,
                "pos": 364,
              },
            },
            "methods": Array [
              Object {
                "arguments": Array [],
                "loc": Object {
                  "end": Object {
                    "column": 40,
                    "line": 21,
                    "pos": 406,
                  },
                  "start": Object {
                    "column": 3,
                    "line": 21,
                    "pos": 369,
                  },
                },
                "name": "recvTimeFromCarol",
                "returnType": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 6,
                      "line": 21,
                      "pos": 372,
                    },
                    "start": Object {
                      "column": 3,
                      "line": 21,
                      "pos": 369,
                    },
                  },
                  "name": "int",
                  "type": "Identifier",
                },
                "transition": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 40,
                      "line": 21,
                      "pos": 406,
                    },
                    "start": Object {
                      "column": 29,
                      "line": 21,
                      "pos": 395,
                    },
                  },
                  "name": "EndProtocol",
                  "type": "Identifier",
                },
                "type": "Method",
              },
            ],
            "name": null,
            "type": "State",
          },
          "type": "Method",
        },
      ],
      "name": "MakeChoice",
      "type": "State",
    },
    Object {
      "_name": "EndProtocol",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 27,
          "pos": 465,
        },
        "start": Object {
          "column": 1,
          "line": 25,
          "pos": 416,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 30,
              "line": 26,
              "pos": 462,
            },
            "start": Object {
              "column": 2,
              "line": 26,
              "pos": 434,
            },
          },
          "name": "endCommunication",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 26,
                "pos": 438,
              },
              "start": Object {
                "column": 2,
                "line": 26,
                "pos": 434,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "unknown:8",
            "loc": Object {
              "end": Object {
                "column": 30,
                "line": 26,
                "pos": 462,
              },
              "start": Object {
                "column": 28,
                "line": 26,
                "pos": 460,
              },
            },
            "methods": Array [],
            "name": null,
            "type": "State",
          },
          "type": "Method",
        },
      ],
      "name": "EndProtocol",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/ThreeParties/FriendProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 22,
      "pos": 345,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "FriendProtocol",
  "states": Array [
    Object {
      "_name": "Init",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 8,
          "pos": 139,
        },
        "start": Object {
          "column": 1,
          "line": 4,
          "pos": 60,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 3,
              "line": 7,
              "pos": 136,
            },
            "start": Object {
              "column": 2,
              "line": 5,
              "pos": 71,
            },
          },
          "name": "connect",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 5,
                "pos": 75,
              },
              "start": Object {
                "column": 2,
                "line": 5,
                "pos": 71,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "unknown:2",
            "loc": Object {
              "end": Object {
                "column": 3,
                "line": 7,
                "pos": 136,
              },
              "start": Object {
                "column": 18,
                "line": 5,
                "pos": 87,
              },
            },
            "methods": Array [
              Object {
                "arguments": Array [],
                "loc": Object {
                  "end": Object {
                    "column": 43,
                    "line": 6,
                    "pos": 132,
                  },
                  "start": Object {
                    "column": 3,
                    "line": 6,
                    "pos": 92,
                  },
                },
                "name": "recvHelloFromBob",
                "returnType": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 9,
                      "line": 6,
                      "pos": 98,
                    },
                    "start": Object {
                      "column": 3,
                      "line": 6,
                      "pos": 92,
                    },
                  },
                  "name": "String",
                  "type": "Identifier",
                },
                "transition": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 43,
                      "line": 6,
                      "pos": 132,
                    },
                    "start": Object {
                      "column": 30,
                      "line": 6,
                      "pos": 119,
                    },
                  },
                  "name": "ReceiveChoice",
                  "type": "Identifier",
                },
                "type": "Method",
              },
            ],
            "name": null,
            "type": "State",
          },
          "type": "Method",
        },
      ],
      "name": "Init",
      "type": "State",
    },
    Object {
      "_name": "ReceiveChoice",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 12,
          "pos": 231,
        },
        "start": Object {
          "column": 1,
          "line": 10,
          "pos": 142,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 68,
              "line": 11,
              "pos": 228,
            },
            "start": Object {
              "column": 2,
              "line": 11,
              "pos": 162,
            },
          },
          "name": "recvChoiceFromBob",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 11,
                "line": 11,
                "pos": 171,
              },
              "start": Object {
                "column": 2,
                "line": 11,
                "pos": 162,
              },
            },
            "name": "BobChoice",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "decision:1",
            "loc": Object {
              "end": Object {
                "column": 68,
                "line": 11,
                "pos": 228,
              },
              "start": Object {
                "column": 34,
                "line": 11,
                "pos": 194,
              },
            },
            "transitions": Array [
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 39,
                      "line": 11,
                      "pos": 199,
                    },
                    "start": Object {
                      "column": 35,
                      "line": 11,
                      "pos": 195,
                    },
                  },
                  "name": "TIME",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 49,
                      "line": 11,
                      "pos": 209,
                    },
                    "start": Object {
                      "column": 41,
                      "line": 11,
                      "pos": 201,
                    },
                  },
                  "name": "SendTime",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 54,
                      "line": 11,
                      "pos": 214,
                    },
                    "start": Object {
                      "column": 51,
                      "line": 11,
                      "pos": 211,
                    },
                  },
                  "name": "END",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 67,
                      "line": 11,
                      "pos": 227,
                    },
                    "start": Object {
                      "column": 56,
                      "line": 11,
                      "pos": 216,
                    },
                  },
                  "name": "EndProtocol",
                  "type": "Identifier",
                },
              ],
            ],
            "type": "DecisionState",
          },
          "type": "Method",
        },
      ],
      "name": "ReceiveChoice",
      "type": "State",
    },
    Object {
      "_name": "SendTime",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 16,
          "pos": 289,
        },
        "start": Object {
          "column": 1,
          "line": 14,
          "pos": 234,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 24,
                  "line": 15,
                  "pos": 271,
                },
                "start": Object {
                  "column": 21,
                  "line": 15,
                  "pos": 268,
                },
              },
              "name": "int",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 39,
              "line": 15,
              "pos": 286,
            },
            "start": Object {
              "column": 2,
              "line": 15,
              "pos": 249,
            },
          },
          "name": "sendTimeToBob",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 15,
                "pos": 253,
              },
              "start": Object {
                "column": 2,
                "line": 15,
                "pos": 249,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 39,
                "line": 15,
                "pos": 286,
              },
              "start": Object {
                "column": 28,
                "line": 15,
                "pos": 275,
              },
            },
            "name": "EndProtocol",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "SendTime",
      "type": "State",
    },
    Object {
      "_name": "EndProtocol",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 20,
          "pos": 342,
        },
        "start": Object {
          "column": 1,
          "line": 18,
          "pos": 292,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 31,
              "line": 19,
              "pos": 339,
            },
            "start": Object {
              "column": 2,
              "line": 19,
              "pos": 310,
            },
          },
          "name": "endCommunication",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 19,
                "pos": 314,
              },
              "start": Object {
                "column": 2,
                "line": 19,
                "pos": 310,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 31,
                "line": 19,
                "pos": 339,
              },
              "start": Object {
                "column": 28,
                "line": 19,
                "pos": 336,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "EndProtocol",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/TwoParties/AliceProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 26,
      "pos": 403,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "AliceProtocol",
  "states": Array [
    Object {
      "_name": "Init",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 8,
          "pos": 138,
        },
        "start": Object {
          "column": 1,
          "line": 4,
          "pos": 57,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 3,
              "line": 7,
              "pos": 135,
            },
            "start": Object {
              "column": 2,
              "line": 5,
              "pos": 68,
            },
          },
          "name": "connect",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 5,
                "pos": 72,
              },
              "start": Object {
                "column": 2,
                "line": 5,
                "pos": 68,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "unknown:2",
            "loc": Object {
              "end": Object {
                "column": 3,
                "line": 7,
                "pos": 135,
              },
              "start": Object {
                "column": 18,
                "line": 5,
                "pos": 84,
              },
            },
            "methods": Array [
              Object {
                "arguments": Array [],
                "loc": Object {
                  "end": Object {
                    "column": 44,
                    "line": 6,
                    "pos": 130,
                  },
                  "start": Object {
                    "column": 3,
                    "line": 6,
                    "pos": 89,
                  },
                },
                "name": "recvStringFromBob",
                "returnType": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 9,
                      "line": 6,
                      "pos": 95,
                    },
                    "start": Object {
                      "column": 3,
                      "line": 6,
                      "pos": 89,
                    },
                  },
                  "name": "String",
                  "type": "Identifier",
                },
                "transition": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 44,
                      "line": 6,
                      "pos": 130,
                    },
                    "start": Object {
                      "column": 31,
                      "line": 6,
                      "pos": 117,
                    },
                  },
                  "name": "ReceiveChoice",
                  "type": "Identifier",
                },
                "type": "Method",
              },
            ],
            "name": null,
            "type": "State",
          },
          "type": "Method",
        },
      ],
      "name": "Init",
      "type": "State",
    },
    Object {
      "_name": "ReceiveChoice",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 12,
          "pos": 226,
        },
        "start": Object {
          "column": 1,
          "line": 10,
          "pos": 141,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 64,
              "line": 11,
              "pos": 223,
            },
            "start": Object {
              "column": 2,
              "line": 11,
              "pos": 161,
            },
          },
          "name": "choiceFromBob",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 11,
                "line": 11,
                "pos": 170,
              },
              "start": Object {
                "column": 2,
                "line": 11,
                "pos": 161,
              },
            },
            "name": "BobChoice",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "decision:1",
            "loc": Object {
              "end": Object {
                "column": 64,
                "line": 11,
                "pos": 223,
              },
              "start": Object {
                "column": 30,
                "line": 11,
                "pos": 189,
              },
            },
            "transitions": Array [
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 35,
                      "line": 11,
                      "pos": 194,
                    },
                    "start": Object {
                      "column": 31,
                      "line": 11,
                      "pos": 190,
                    },
                  },
                  "name": "TIME",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 45,
                      "line": 11,
                      "pos": 204,
                    },
                    "start": Object {
                      "column": 37,
                      "line": 11,
                      "pos": 196,
                    },
                  },
                  "name": "SendTime",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 52,
                      "line": 11,
                      "pos": 211,
                    },
                    "start": Object {
                      "column": 47,
                      "line": 11,
                      "pos": 206,
                    },
                  },
                  "name": "GREET",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 63,
                      "line": 11,
                      "pos": 222,
                    },
                    "start": Object {
                      "column": 54,
                      "line": 11,
                      "pos": 213,
                    },
                  },
                  "name": "HowAreYou",
                  "type": "Identifier",
                },
              ],
            ],
            "type": "DecisionState",
          },
          "type": "Method",
        },
      ],
      "name": "ReceiveChoice",
      "type": "State",
    },
    Object {
      "_name": "SendTime",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 16,
          "pos": 284,
        },
        "start": Object {
          "column": 1,
          "line": 14,
          "pos": 229,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 24,
                  "line": 15,
                  "pos": 266,
                },
                "start": Object {
                  "column": 21,
                  "line": 15,
                  "pos": 263,
                },
              },
              "name": "int",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 39,
              "line": 15,
              "pos": 281,
            },
            "start": Object {
              "column": 2,
              "line": 15,
              "pos": 244,
            },
          },
          "name": "sendTimeToBob",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 15,
                "pos": 248,
              },
              "start": Object {
                "column": 2,
                "line": 15,
                "pos": 244,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 39,
                "line": 15,
                "pos": 281,
              },
              "start": Object {
                "column": 28,
                "line": 15,
                "pos": 270,
              },
            },
            "name": "EndProtocol",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "SendTime",
      "type": "State",
    },
    Object {
      "_name": "HowAreYou",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 20,
          "pos": 347,
        },
        "start": Object {
          "column": 1,
          "line": 18,
          "pos": 287,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 28,
                  "line": 19,
                  "pos": 329,
                },
                "start": Object {
                  "column": 22,
                  "line": 19,
                  "pos": 323,
                },
              },
              "name": "String",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 43,
              "line": 19,
              "pos": 344,
            },
            "start": Object {
              "column": 2,
              "line": 19,
              "pos": 303,
            },
          },
          "name": "sendGreetToBob",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 19,
                "pos": 307,
              },
              "start": Object {
                "column": 2,
                "line": 19,
                "pos": 303,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 43,
                "line": 19,
                "pos": 344,
              },
              "start": Object {
                "column": 32,
                "line": 19,
                "pos": 333,
              },
            },
            "name": "EndProtocol",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "HowAreYou",
      "type": "State",
    },
    Object {
      "_name": "EndProtocol",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 24,
          "pos": 400,
        },
        "start": Object {
          "column": 1,
          "line": 22,
          "pos": 350,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 31,
              "line": 23,
              "pos": 397,
            },
            "start": Object {
              "column": 2,
              "line": 23,
              "pos": 368,
            },
          },
          "name": "endCommunication",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 23,
                "pos": 372,
              },
              "start": Object {
                "column": 2,
                "line": 23,
                "pos": 368,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 31,
                "line": 23,
                "pos": 397,
              },
              "start": Object {
                "column": 28,
                "line": 23,
                "pos": 394,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "EndProtocol",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/TwoParties/BobProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 23,
      "pos": 382,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "BobProtocol",
  "states": Array [
    Object {
      "_name": "Init",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 8,
          "pos": 137,
        },
        "start": Object {
          "column": 1,
          "line": 4,
          "pos": 55,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 3,
              "line": 7,
              "pos": 134,
            },
            "start": Object {
              "column": 2,
              "line": 5,
              "pos": 66,
            },
          },
          "name": "connect",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 5,
                "pos": 70,
              },
              "start": Object {
                "column": 2,
                "line": 5,
                "pos": 66,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "unknown:2",
            "loc": Object {
              "end": Object {
                "column": 3,
                "line": 7,
                "pos": 134,
              },
              "start": Object {
                "column": 19,
                "line": 5,
                "pos": 83,
              },
            },
            "methods": Array [
              Object {
                "arguments": Array [
                  Object {
                    "loc": Object {
                      "end": Object {
                        "column": 32,
                        "line": 6,
                        "pos": 117,
                      },
                      "start": Object {
                        "column": 26,
                        "line": 6,
                        "pos": 111,
                      },
                    },
                    "name": "String",
                    "type": "Identifier",
                  },
                ],
                "loc": Object {
                  "end": Object {
                    "column": 45,
                    "line": 6,
                    "pos": 130,
                  },
                  "start": Object {
                    "column": 3,
                    "line": 6,
                    "pos": 88,
                  },
                },
                "name": "sendStringToAlice",
                "returnType": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 7,
                      "line": 6,
                      "pos": 92,
                    },
                    "start": Object {
                      "column": 3,
                      "line": 6,
                      "pos": 88,
                    },
                  },
                  "name": "void",
                  "type": "Identifier",
                },
                "transition": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 45,
                      "line": 6,
                      "pos": 130,
                    },
                    "start": Object {
                      "column": 35,
                      "line": 6,
                      "pos": 120,
                    },
                  },
                  "name": "SendChoice",
                  "type": "Identifier",
                },
                "type": "Method",
              },
            ],
            "name": null,
            "type": "State",
          },
          "type": "Method",
        },
      ],
      "name": "Init",
      "type": "State",
    },
    Object {
      "_name": "SendChoice",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 17,
          "pos": 327,
        },
        "start": Object {
          "column": 1,
          "line": 10,
          "pos": 140,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 3,
              "line": 13,
              "pos": 233,
            },
            "start": Object {
              "column": 2,
              "line": 11,
              "pos": 157,
            },
          },
          "name": "sendTimeChoiceToAlice",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 11,
                "pos": 161,
              },
              "start": Object {
                "column": 2,
                "line": 11,
                "pos": 157,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "unknown:4",
            "loc": Object {
              "end": Object {
                "column": 3,
                "line": 13,
                "pos": 233,
              },
              "start": Object {
                "column": 32,
                "line": 11,
                "pos": 187,
              },
            },
            "methods": Array [
              Object {
                "arguments": Array [],
                "loc": Object {
                  "end": Object {
                    "column": 40,
                    "line": 12,
                    "pos": 229,
                  },
                  "start": Object {
                    "column": 3,
                    "line": 12,
                    "pos": 192,
                  },
                },
                "name": "recvTimeFromAlice",
                "returnType": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 6,
                      "line": 12,
                      "pos": 195,
                    },
                    "start": Object {
                      "column": 3,
                      "line": 12,
                      "pos": 192,
                    },
                  },
                  "name": "int",
                  "type": "Identifier",
                },
                "transition": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 40,
                      "line": 12,
                      "pos": 229,
                    },
                    "start": Object {
                      "column": 29,
                      "line": 12,
                      "pos": 218,
                    },
                  },
                  "name": "EndProtocol",
                  "type": "Identifier",
                },
                "type": "Method",
              },
            ],
            "name": null,
            "type": "State",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 3,
              "line": 16,
              "pos": 324,
            },
            "start": Object {
              "column": 2,
              "line": 14,
              "pos": 237,
            },
          },
          "name": "sendGreetingChoiceToAlice",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 14,
                "pos": 241,
              },
              "start": Object {
                "column": 2,
                "line": 14,
                "pos": 237,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "unknown:5",
            "loc": Object {
              "end": Object {
                "column": 3,
                "line": 16,
                "pos": 324,
              },
              "start": Object {
                "column": 36,
                "line": 14,
                "pos": 271,
              },
            },
            "methods": Array [
              Object {
                "arguments": Array [],
                "loc": Object {
                  "end": Object {
                    "column": 47,
                    "line": 15,
                    "pos": 320,
                  },
                  "start": Object {
                    "column": 3,
                    "line": 15,
                    "pos": 276,
                  },
                },
                "name": "recvGreetingFromAlice",
                "returnType": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 9,
                      "line": 15,
                      "pos": 282,
                    },
                    "start": Object {
                      "column": 3,
                      "line": 15,
                      "pos": 276,
                    },
                  },
                  "name": "String",
                  "type": "Identifier",
                },
                "transition": Object {
                  "loc": Object {
                    "end": Object {
                      "column": 47,
                      "line": 15,
                      "pos": 320,
                    },
                    "start": Object {
                      "column": 36,
                      "line": 15,
                      "pos": 309,
                    },
                  },
                  "name": "EndProtocol",
                  "type": "Identifier",
                },
                "type": "Method",
              },
            ],
            "name": null,
            "type": "State",
          },
          "type": "Method",
        },
      ],
      "name": "SendChoice",
      "type": "State",
    },
    Object {
      "_name": "EndProtocol",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 21,
          "pos": 379,
        },
        "start": Object {
          "column": 1,
          "line": 19,
          "pos": 330,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 30,
              "line": 20,
              "pos": 376,
            },
            "start": Object {
              "column": 2,
              "line": 20,
              "pos": 348,
            },
          },
          "name": "endCommunication",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 20,
                "pos": 352,
              },
              "start": Object {
                "column": 2,
                "line": 20,
                "pos": 348,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "unknown:7",
            "loc": Object {
              "end": Object {
                "column": 30,
                "line": 20,
                "pos": 376,
              },
              "start": Object {
                "column": 28,
                "line": 20,
                "pos": 374,
              },
            },
            "methods": Array [],
            "name": null,
            "type": "State",
          },
          "type": "Method",
        },
      ],
      "name": "EndProtocol",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/collection/CollectionProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 23,
      "pos": 346,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "CollectionProtocol",
  "states": Array [
    Object {
      "_name": "Init",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 6,
          "pos": 104,
        },
        "start": Object {
          "column": 1,
          "line": 4,
          "pos": 62,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 21,
                  "line": 5,
                  "pos": 92,
                },
                "start": Object {
                  "column": 18,
                  "line": 5,
                  "pos": 89,
                },
              },
              "name": "int",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 30,
              "line": 5,
              "pos": 101,
            },
            "start": Object {
              "column": 2,
              "line": 5,
              "pos": 73,
            },
          },
          "name": "initialise",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 5,
                "pos": 77,
              },
              "start": Object {
                "column": 2,
                "line": 5,
                "pos": 73,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 30,
                "line": 5,
                "pos": 101,
              },
              "start": Object {
                "column": 25,
                "line": 5,
                "pos": 96,
              },
            },
            "name": "Empty",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "Init",
      "type": "State",
    },
    Object {
      "_name": "Empty",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 11,
          "pos": 168,
        },
        "start": Object {
          "column": 1,
          "line": 8,
          "pos": 107,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 15,
                  "line": 9,
                  "pos": 132,
                },
                "start": Object {
                  "column": 11,
                  "line": 9,
                  "pos": 128,
                },
              },
              "name": "Node",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 27,
              "line": 9,
              "pos": 144,
            },
            "start": Object {
              "column": 2,
              "line": 9,
              "pos": 119,
            },
          },
          "name": "put",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 9,
                "pos": 123,
              },
              "start": Object {
                "column": 2,
                "line": 9,
                "pos": 119,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 27,
                "line": 9,
                "pos": 144,
              },
              "start": Object {
                "column": 19,
                "line": 9,
                "pos": 136,
              },
            },
            "name": "NonEmpty",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 19,
              "line": 10,
              "pos": 165,
            },
            "start": Object {
              "column": 2,
              "line": 10,
              "pos": 148,
            },
          },
          "name": "close",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 10,
                "pos": 152,
              },
              "start": Object {
                "column": 2,
                "line": 10,
                "pos": 148,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 19,
                "line": 10,
                "pos": 165,
              },
              "start": Object {
                "column": 16,
                "line": 10,
                "pos": 162,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "Empty",
      "type": "State",
    },
    Object {
      "_name": "NonEmpty",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 16,
          "pos": 238,
        },
        "start": Object {
          "column": 1,
          "line": 13,
          "pos": 171,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 15,
                  "line": 14,
                  "pos": 199,
                },
                "start": Object {
                  "column": 11,
                  "line": 14,
                  "pos": 195,
                },
              },
              "name": "Node",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 27,
              "line": 14,
              "pos": 211,
            },
            "start": Object {
              "column": 2,
              "line": 14,
              "pos": 186,
            },
          },
          "name": "put",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 14,
                "pos": 190,
              },
              "start": Object {
                "column": 2,
                "line": 14,
                "pos": 186,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 27,
                "line": 14,
                "pos": 211,
              },
              "start": Object {
                "column": 19,
                "line": 14,
                "pos": 203,
              },
            },
            "name": "NonEmpty",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 22,
              "line": 15,
              "pos": 235,
            },
            "start": Object {
              "column": 2,
              "line": 15,
              "pos": 215,
            },
          },
          "name": "get",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 15,
                "pos": 219,
              },
              "start": Object {
                "column": 2,
                "line": 15,
                "pos": 215,
              },
            },
            "name": "Node",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 22,
                "line": 15,
                "pos": 235,
              },
              "start": Object {
                "column": 15,
                "line": 15,
                "pos": 228,
              },
            },
            "name": "Unknown",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "NonEmpty",
      "type": "State",
    },
    Object {
      "_name": "Unknown",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 21,
          "pos": 343,
        },
        "start": Object {
          "column": 1,
          "line": 18,
          "pos": 241,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 15,
                  "line": 19,
                  "pos": 268,
                },
                "start": Object {
                  "column": 11,
                  "line": 19,
                  "pos": 264,
                },
              },
              "name": "Node",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 27,
              "line": 19,
              "pos": 280,
            },
            "start": Object {
              "column": 2,
              "line": 19,
              "pos": 255,
            },
          },
          "name": "put",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 19,
                "pos": 259,
              },
              "start": Object {
                "column": 2,
                "line": 19,
                "pos": 255,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 27,
                "line": 19,
                "pos": 280,
              },
              "start": Object {
                "column": 19,
                "line": 19,
                "pos": 272,
              },
            },
            "name": "NonEmpty",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 58,
              "line": 20,
              "pos": 340,
            },
            "start": Object {
              "column": 2,
              "line": 20,
              "pos": 284,
            },
          },
          "name": "isEmpty",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 15,
                "line": 20,
                "pos": 297,
              },
              "start": Object {
                "column": 2,
                "line": 20,
                "pos": 284,
              },
            },
            "name": "BooleanChoice",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "decision:1",
            "loc": Object {
              "end": Object {
                "column": 58,
                "line": 20,
                "pos": 340,
              },
              "start": Object {
                "column": 28,
                "line": 20,
                "pos": 310,
              },
            },
            "transitions": Array [
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 33,
                      "line": 20,
                      "pos": 315,
                    },
                    "start": Object {
                      "column": 29,
                      "line": 20,
                      "pos": 311,
                    },
                  },
                  "name": "TRUE",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 40,
                      "line": 20,
                      "pos": 322,
                    },
                    "start": Object {
                      "column": 35,
                      "line": 20,
                      "pos": 317,
                    },
                  },
                  "name": "Empty",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 47,
                      "line": 20,
                      "pos": 329,
                    },
                    "start": Object {
                      "column": 42,
                      "line": 20,
                      "pos": 324,
                    },
                  },
                  "name": "FALSE",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 57,
                      "line": 20,
                      "pos": 339,
                    },
                    "start": Object {
                      "column": 49,
                      "line": 20,
                      "pos": 331,
                    },
                  },
                  "name": "NonEmpty",
                  "type": "Identifier",
                },
              ],
            ],
            "type": "DecisionState",
          },
          "type": "Method",
        },
      ],
      "name": "Unknown",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/collection/StackUser/StackUserProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 18,
      "pos": 334,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "StackUserProtocol",
  "states": Array [
    Object {
      "_name": "Init",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 10,
          "pos": 211,
        },
        "start": Object {
          "column": 1,
          "line": 6,
          "pos": 106,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 21,
                  "line": 7,
                  "pos": 136,
                },
                "start": Object {
                  "column": 16,
                  "line": 7,
                  "pos": 131,
                },
              },
              "name": "Stack",
              "type": "Identifier",
            },
            Object {
              "loc": Object {
                "end": Object {
                  "column": 26,
                  "line": 7,
                  "pos": 141,
                },
                "start": Object {
                  "column": 23,
                  "line": 7,
                  "pos": 138,
                },
              },
              "name": "int",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 37,
              "line": 7,
              "pos": 152,
            },
            "start": Object {
              "column": 2,
              "line": 7,
              "pos": 117,
            },
          },
          "name": "produce",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 7,
                "line": 7,
                "pos": 122,
              },
              "start": Object {
                "column": 2,
                "line": 7,
                "pos": 117,
              },
            },
            "name": "Stack",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 37,
                "line": 7,
                "pos": 152,
              },
              "start": Object {
                "column": 30,
                "line": 7,
                "pos": 145,
              },
            },
            "name": "Consume",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 21,
                  "line": 8,
                  "pos": 175,
                },
                "start": Object {
                  "column": 16,
                  "line": 8,
                  "pos": 170,
                },
              },
              "name": "Stack",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 32,
              "line": 8,
              "pos": 186,
            },
            "start": Object {
              "column": 2,
              "line": 8,
              "pos": 156,
            },
          },
          "name": "produce",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 7,
                "line": 8,
                "pos": 161,
              },
              "start": Object {
                "column": 2,
                "line": 8,
                "pos": 156,
              },
            },
            "name": "Stack",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 32,
                "line": 8,
                "pos": 186,
              },
              "start": Object {
                "column": 25,
                "line": 8,
                "pos": 179,
              },
            },
            "name": "Consume",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 20,
              "line": 9,
              "pos": 208,
            },
            "start": Object {
              "column": 2,
              "line": 9,
              "pos": 190,
            },
          },
          "name": "close",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 9,
                "pos": 194,
              },
              "start": Object {
                "column": 2,
                "line": 9,
                "pos": 190,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 20,
                "line": 9,
                "pos": 208,
              },
              "start": Object {
                "column": 17,
                "line": 9,
                "pos": 205,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "Init",
      "type": "State",
    },
    Object {
      "_name": "Consume",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 16,
          "pos": 331,
        },
        "start": Object {
          "column": 1,
          "line": 12,
          "pos": 214,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 21,
                  "line": 13,
                  "pos": 247,
                },
                "start": Object {
                  "column": 16,
                  "line": 13,
                  "pos": 242,
                },
              },
              "name": "Stack",
              "type": "Identifier",
            },
            Object {
              "loc": Object {
                "end": Object {
                  "column": 26,
                  "line": 13,
                  "pos": 252,
                },
                "start": Object {
                  "column": 23,
                  "line": 13,
                  "pos": 249,
                },
              },
              "name": "int",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 37,
              "line": 13,
              "pos": 263,
            },
            "start": Object {
              "column": 2,
              "line": 13,
              "pos": 228,
            },
          },
          "name": "produce",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 7,
                "line": 13,
                "pos": 233,
              },
              "start": Object {
                "column": 2,
                "line": 13,
                "pos": 228,
              },
            },
            "name": "Stack",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 37,
                "line": 13,
                "pos": 263,
              },
              "start": Object {
                "column": 30,
                "line": 13,
                "pos": 256,
              },
            },
            "name": "Consume",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 21,
                  "line": 14,
                  "pos": 286,
                },
                "start": Object {
                  "column": 16,
                  "line": 14,
                  "pos": 281,
                },
              },
              "name": "Stack",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 32,
              "line": 14,
              "pos": 297,
            },
            "start": Object {
              "column": 2,
              "line": 14,
              "pos": 267,
            },
          },
          "name": "produce",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 7,
                "line": 14,
                "pos": 272,
              },
              "start": Object {
                "column": 2,
                "line": 14,
                "pos": 267,
              },
            },
            "name": "Stack",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 32,
                "line": 14,
                "pos": 297,
              },
              "start": Object {
                "column": 25,
                "line": 14,
                "pos": 290,
              },
            },
            "name": "Consume",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 21,
                  "line": 15,
                  "pos": 320,
                },
                "start": Object {
                  "column": 16,
                  "line": 15,
                  "pos": 315,
                },
              },
              "name": "Stack",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 29,
              "line": 15,
              "pos": 328,
            },
            "start": Object {
              "column": 2,
              "line": 15,
              "pos": 301,
            },
          },
          "name": "consume",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 7,
                "line": 15,
                "pos": 306,
              },
              "start": Object {
                "column": 2,
                "line": 15,
                "pos": 301,
              },
            },
            "name": "Stack",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 29,
                "line": 15,
                "pos": 328,
              },
              "start": Object {
                "column": 25,
                "line": 15,
                "pos": 324,
              },
            },
            "name": "Init",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "Consume",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/collection/StackUser2/StackUserProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 16,
      "pos": 266,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "StackUserProtocol",
  "states": Array [
    Object {
      "_name": "Init",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 8,
          "pos": 163,
        },
        "start": Object {
          "column": 1,
          "line": 4,
          "pos": 72,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 18,
                  "line": 5,
                  "pos": 99,
                },
                "start": Object {
                  "column": 15,
                  "line": 5,
                  "pos": 96,
                },
              },
              "name": "int",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 29,
              "line": 5,
              "pos": 110,
            },
            "start": Object {
              "column": 2,
              "line": 5,
              "pos": 83,
            },
          },
          "name": "produce",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 5,
                "pos": 87,
              },
              "start": Object {
                "column": 2,
                "line": 5,
                "pos": 83,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 29,
                "line": 5,
                "pos": 110,
              },
              "start": Object {
                "column": 22,
                "line": 5,
                "pos": 103,
              },
            },
            "name": "Consume",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 26,
              "line": 6,
              "pos": 138,
            },
            "start": Object {
              "column": 2,
              "line": 6,
              "pos": 114,
            },
          },
          "name": "produce",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 6,
                "pos": 118,
              },
              "start": Object {
                "column": 2,
                "line": 6,
                "pos": 114,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 26,
                "line": 6,
                "pos": 138,
              },
              "start": Object {
                "column": 19,
                "line": 6,
                "pos": 131,
              },
            },
            "name": "Consume",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 20,
              "line": 7,
              "pos": 160,
            },
            "start": Object {
              "column": 2,
              "line": 7,
              "pos": 142,
            },
          },
          "name": "close",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 7,
                "pos": 146,
              },
              "start": Object {
                "column": 2,
                "line": 7,
                "pos": 142,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 20,
                "line": 7,
                "pos": 160,
              },
              "start": Object {
                "column": 17,
                "line": 7,
                "pos": 157,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "Init",
      "type": "State",
    },
    Object {
      "_name": "Consume",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 14,
          "pos": 263,
        },
        "start": Object {
          "column": 1,
          "line": 10,
          "pos": 166,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 18,
                  "line": 11,
                  "pos": 196,
                },
                "start": Object {
                  "column": 15,
                  "line": 11,
                  "pos": 193,
                },
              },
              "name": "int",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 29,
              "line": 11,
              "pos": 207,
            },
            "start": Object {
              "column": 2,
              "line": 11,
              "pos": 180,
            },
          },
          "name": "produce",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 11,
                "pos": 184,
              },
              "start": Object {
                "column": 2,
                "line": 11,
                "pos": 180,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 29,
                "line": 11,
                "pos": 207,
              },
              "start": Object {
                "column": 22,
                "line": 11,
                "pos": 200,
              },
            },
            "name": "Consume",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 26,
              "line": 12,
              "pos": 235,
            },
            "start": Object {
              "column": 2,
              "line": 12,
              "pos": 211,
            },
          },
          "name": "produce",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 12,
                "pos": 215,
              },
              "start": Object {
                "column": 2,
                "line": 12,
                "pos": 211,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 26,
                "line": 12,
                "pos": 235,
              },
              "start": Object {
                "column": 19,
                "line": 12,
                "pos": 228,
              },
            },
            "name": "Consume",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 23,
              "line": 13,
              "pos": 260,
            },
            "start": Object {
              "column": 2,
              "line": 13,
              "pos": 239,
            },
          },
          "name": "consume",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 13,
                "pos": 243,
              },
              "start": Object {
                "column": 2,
                "line": 13,
                "pos": 239,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 23,
                "line": 13,
                "pos": 260,
              },
              "start": Object {
                "column": 19,
                "line": 13,
                "pos": 256,
              },
            },
            "name": "Init",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "Consume",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/distributed-client-travelagency-bank/AProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 22,
      "pos": 406,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "AProtocol",
  "states": Array [
    Object {
      "_name": "State0",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 4,
          "pos": 82,
        },
        "start": Object {
          "column": 1,
          "line": 2,
          "pos": 23,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 45,
              "line": 3,
              "pos": 79,
            },
            "start": Object {
              "column": 2,
              "line": 3,
              "pos": 36,
            },
          },
          "name": "receive_requestStringFromC",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 8,
                "line": 3,
                "pos": 42,
              },
              "start": Object {
                "column": 2,
                "line": 3,
                "pos": 36,
              },
            },
            "name": "String",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 45,
                "line": 3,
                "pos": 79,
              },
              "start": Object {
                "column": 39,
                "line": 3,
                "pos": 73,
              },
            },
            "name": "State1",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State0",
      "type": "State",
    },
    Object {
      "_name": "State1",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 7,
          "pos": 133,
        },
        "start": Object {
          "column": 1,
          "line": 5,
          "pos": 84,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 26,
                  "line": 6,
                  "pos": 121,
                },
                "start": Object {
                  "column": 23,
                  "line": 6,
                  "pos": 118,
                },
              },
              "name": "int",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 35,
              "line": 6,
              "pos": 130,
            },
            "start": Object {
              "column": 2,
              "line": 6,
              "pos": 97,
            },
          },
          "name": "send_dataintToC",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 6,
                "pos": 101,
              },
              "start": Object {
                "column": 2,
                "line": 6,
                "pos": 97,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 35,
                "line": 6,
                "pos": 130,
              },
              "start": Object {
                "column": 29,
                "line": 6,
                "pos": 124,
              },
            },
            "name": "State2",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State1",
      "type": "State",
    },
    Object {
      "_name": "State2",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 11,
          "pos": 223,
        },
        "start": Object {
          "column": 1,
          "line": 8,
          "pos": 135,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 35,
              "line": 10,
              "pos": 220,
            },
            "start": Object {
              "column": 2,
              "line": 9,
              "pos": 148,
            },
          },
          "name": "receive_Choice1LabelFromB",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 9,
                "line": 9,
                "pos": 155,
              },
              "start": Object {
                "column": 2,
                "line": 9,
                "pos": 148,
              },
            },
            "name": "Choice1",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "decision:1",
            "loc": Object {
              "end": Object {
                "column": 35,
                "line": 10,
                "pos": 220,
              },
              "start": Object {
                "column": 2,
                "line": 10,
                "pos": 187,
              },
            },
            "transitions": Array [
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 10,
                      "line": 10,
                      "pos": 195,
                    },
                    "start": Object {
                      "column": 3,
                      "line": 10,
                      "pos": 188,
                    },
                  },
                  "name": "APPROVE",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 18,
                      "line": 10,
                      "pos": 203,
                    },
                    "start": Object {
                      "column": 12,
                      "line": 10,
                      "pos": 197,
                    },
                  },
                  "name": "State3",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 26,
                      "line": 10,
                      "pos": 211,
                    },
                    "start": Object {
                      "column": 20,
                      "line": 10,
                      "pos": 205,
                    },
                  },
                  "name": "REFUSE",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 34,
                      "line": 10,
                      "pos": 219,
                    },
                    "start": Object {
                      "column": 28,
                      "line": 10,
                      "pos": 213,
                    },
                  },
                  "name": "State5",
                  "type": "Identifier",
                },
              ],
            ],
            "type": "DecisionState",
          },
          "type": "Method",
        },
      ],
      "name": "State2",
      "type": "State",
    },
    Object {
      "_name": "State3",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 14,
          "pos": 286,
        },
        "start": Object {
          "column": 1,
          "line": 12,
          "pos": 225,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 47,
              "line": 13,
              "pos": 283,
            },
            "start": Object {
              "column": 2,
              "line": 13,
              "pos": 238,
            },
          },
          "name": "receive_approveBooleanFromB",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 9,
                "line": 13,
                "pos": 245,
              },
              "start": Object {
                "column": 2,
                "line": 13,
                "pos": 238,
              },
            },
            "name": "Boolean",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 47,
                "line": 13,
                "pos": 283,
              },
              "start": Object {
                "column": 41,
                "line": 13,
                "pos": 277,
              },
            },
            "name": "State4",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State3",
      "type": "State",
    },
    Object {
      "_name": "State4",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 17,
          "pos": 344,
        },
        "start": Object {
          "column": 1,
          "line": 15,
          "pos": 288,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 36,
                  "line": 16,
                  "pos": 335,
                },
                "start": Object {
                  "column": 30,
                  "line": 16,
                  "pos": 329,
                },
              },
              "name": "String",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 42,
              "line": 16,
              "pos": 341,
            },
            "start": Object {
              "column": 2,
              "line": 16,
              "pos": 301,
            },
          },
          "name": "send_invoiceStringToBC",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 16,
                "pos": 305,
              },
              "start": Object {
                "column": 2,
                "line": 16,
                "pos": 301,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 42,
                "line": 16,
                "pos": 341,
              },
              "start": Object {
                "column": 39,
                "line": 16,
                "pos": 338,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State4",
      "type": "State",
    },
    Object {
      "_name": "State5",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 20,
          "pos": 403,
        },
        "start": Object {
          "column": 1,
          "line": 18,
          "pos": 346,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 43,
              "line": 19,
              "pos": 400,
            },
            "start": Object {
              "column": 2,
              "line": 19,
              "pos": 359,
            },
          },
          "name": "receive_refuseBooleanFromB",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 9,
                "line": 19,
                "pos": 366,
              },
              "start": Object {
                "column": 2,
                "line": 19,
                "pos": 359,
              },
            },
            "name": "Boolean",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 43,
                "line": 19,
                "pos": 400,
              },
              "start": Object {
                "column": 40,
                "line": 19,
                "pos": 397,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State5",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/distributed-client-travelagency-bank/BProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 19,
      "pos": 342,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "BProtocol",
  "states": Array [
    Object {
      "_name": "State0",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 4,
          "pos": 76,
        },
        "start": Object {
          "column": 1,
          "line": 2,
          "pos": 23,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 39,
              "line": 3,
              "pos": 73,
            },
            "start": Object {
              "column": 2,
              "line": 3,
              "pos": 36,
            },
          },
          "name": "receive_paymentintFromC",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 5,
                "line": 3,
                "pos": 39,
              },
              "start": Object {
                "column": 2,
                "line": 3,
                "pos": 36,
              },
            },
            "name": "int",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 39,
                "line": 3,
                "pos": 73,
              },
              "start": Object {
                "column": 33,
                "line": 3,
                "pos": 67,
              },
            },
            "name": "State1",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State0",
      "type": "State",
    },
    Object {
      "_name": "State1",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 8,
          "pos": 159,
        },
        "start": Object {
          "column": 1,
          "line": 5,
          "pos": 78,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 33,
              "line": 6,
              "pos": 122,
            },
            "start": Object {
              "column": 2,
              "line": 6,
              "pos": 91,
            },
          },
          "name": "send_APPROVEToCA",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 6,
                "pos": 95,
              },
              "start": Object {
                "column": 2,
                "line": 6,
                "pos": 91,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 33,
                "line": 6,
                "pos": 122,
              },
              "start": Object {
                "column": 27,
                "line": 6,
                "pos": 116,
              },
            },
            "name": "State2",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 32,
              "line": 7,
              "pos": 156,
            },
            "start": Object {
              "column": 2,
              "line": 7,
              "pos": 126,
            },
          },
          "name": "send_REFUSEToCA",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 7,
                "pos": 130,
              },
              "start": Object {
                "column": 2,
                "line": 7,
                "pos": 126,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 32,
                "line": 7,
                "pos": 156,
              },
              "start": Object {
                "column": 26,
                "line": 7,
                "pos": 150,
              },
            },
            "name": "State4",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State1",
      "type": "State",
    },
    Object {
      "_name": "State2",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 11,
          "pos": 222,
        },
        "start": Object {
          "column": 1,
          "line": 9,
          "pos": 161,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 38,
                  "line": 10,
                  "pos": 210,
                },
                "start": Object {
                  "column": 31,
                  "line": 10,
                  "pos": 203,
                },
              },
              "name": "Boolean",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 47,
              "line": 10,
              "pos": 219,
            },
            "start": Object {
              "column": 2,
              "line": 10,
              "pos": 174,
            },
          },
          "name": "send_approveBooleanToCA",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 10,
                "pos": 178,
              },
              "start": Object {
                "column": 2,
                "line": 10,
                "pos": 174,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 47,
                "line": 10,
                "pos": 219,
              },
              "start": Object {
                "column": 41,
                "line": 10,
                "pos": 213,
              },
            },
            "name": "State3",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State2",
      "type": "State",
    },
    Object {
      "_name": "State3",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 14,
          "pos": 280,
        },
        "start": Object {
          "column": 1,
          "line": 12,
          "pos": 224,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 42,
              "line": 13,
              "pos": 277,
            },
            "start": Object {
              "column": 2,
              "line": 13,
              "pos": 237,
            },
          },
          "name": "receive_invoiceStringFromA",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 8,
                "line": 13,
                "pos": 243,
              },
              "start": Object {
                "column": 2,
                "line": 13,
                "pos": 237,
              },
            },
            "name": "String",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 42,
                "line": 13,
                "pos": 277,
              },
              "start": Object {
                "column": 39,
                "line": 13,
                "pos": 274,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State3",
      "type": "State",
    },
    Object {
      "_name": "State4",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 17,
          "pos": 339,
        },
        "start": Object {
          "column": 1,
          "line": 15,
          "pos": 282,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 37,
                  "line": 16,
                  "pos": 330,
                },
                "start": Object {
                  "column": 30,
                  "line": 16,
                  "pos": 323,
                },
              },
              "name": "Boolean",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 43,
              "line": 16,
              "pos": 336,
            },
            "start": Object {
              "column": 2,
              "line": 16,
              "pos": 295,
            },
          },
          "name": "send_refuseBooleanToCA",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 16,
                "pos": 299,
              },
              "start": Object {
                "column": 2,
                "line": 16,
                "pos": 295,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 43,
                "line": 16,
                "pos": 336,
              },
              "start": Object {
                "column": 40,
                "line": 16,
                "pos": 333,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State4",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/distributed-client-travelagency-bank/Bank.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 12,
      "pos": 127,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "BankProtocol",
  "states": Array [
    Object {
      "_name": "State0",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 5,
          "pos": 72,
        },
        "start": Object {
          "column": 1,
          "line": 3,
          "pos": 27,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 31,
              "line": 4,
              "pos": 69,
            },
            "start": Object {
              "column": 2,
              "line": 4,
              "pos": 40,
            },
          },
          "name": "receivePayment",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 4,
                "pos": 44,
              },
              "start": Object {
                "column": 2,
                "line": 4,
                "pos": 40,
              },
            },
            "name": "Data",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 31,
                "line": 4,
                "pos": 69,
              },
              "start": Object {
                "column": 25,
                "line": 4,
                "pos": 63,
              },
            },
            "name": "State1",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State0",
      "type": "State",
    },
    Object {
      "_name": "State1",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 9,
          "pos": 123,
        },
        "start": Object {
          "column": 1,
          "line": 7,
          "pos": 76,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 27,
                  "line": 8,
                  "pos": 114,
                },
                "start": Object {
                  "column": 20,
                  "line": 8,
                  "pos": 107,
                },
              },
              "name": "boolean",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 33,
              "line": 8,
              "pos": 120,
            },
            "start": Object {
              "column": 2,
              "line": 8,
              "pos": 89,
            },
          },
          "name": "sendApproval",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 8,
                "pos": 93,
              },
              "start": Object {
                "column": 2,
                "line": 8,
                "pos": 89,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 33,
                "line": 8,
                "pos": 120,
              },
              "start": Object {
                "column": 30,
                "line": 8,
                "pos": 117,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State1",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/distributed-client-travelagency-bank/CProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 29,
      "pos": 703,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "CProtocol",
  "states": Array [
    Object {
      "_name": "State0",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 8,
          "pos": 324,
        },
        "start": Object {
          "column": 1,
          "line": 6,
          "pos": 266,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 35,
                  "line": 7,
                  "pos": 312,
                },
                "start": Object {
                  "column": 29,
                  "line": 7,
                  "pos": 306,
                },
              },
              "name": "String",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 44,
              "line": 7,
              "pos": 321,
            },
            "start": Object {
              "column": 2,
              "line": 7,
              "pos": 279,
            },
          },
          "name": "send_requestStringToA",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 7,
                "pos": 283,
              },
              "start": Object {
                "column": 2,
                "line": 7,
                "pos": 279,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 44,
                "line": 7,
                "pos": 321,
              },
              "start": Object {
                "column": 38,
                "line": 7,
                "pos": 315,
              },
            },
            "name": "State1",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State0",
      "type": "State",
    },
    Object {
      "_name": "State1",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 11,
          "pos": 376,
        },
        "start": Object {
          "column": 1,
          "line": 9,
          "pos": 326,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 36,
              "line": 10,
              "pos": 373,
            },
            "start": Object {
              "column": 2,
              "line": 10,
              "pos": 339,
            },
          },
          "name": "receive_dataintFromA",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 5,
                "line": 10,
                "pos": 342,
              },
              "start": Object {
                "column": 2,
                "line": 10,
                "pos": 339,
              },
            },
            "name": "int",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 36,
                "line": 10,
                "pos": 373,
              },
              "start": Object {
                "column": 30,
                "line": 10,
                "pos": 367,
              },
            },
            "name": "State2",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State1",
      "type": "State",
    },
    Object {
      "_name": "State2",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 14,
          "pos": 430,
        },
        "start": Object {
          "column": 1,
          "line": 12,
          "pos": 378,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 29,
                  "line": 13,
                  "pos": 418,
                },
                "start": Object {
                  "column": 26,
                  "line": 13,
                  "pos": 415,
                },
              },
              "name": "int",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 38,
              "line": 13,
              "pos": 427,
            },
            "start": Object {
              "column": 2,
              "line": 13,
              "pos": 391,
            },
          },
          "name": "send_paymentintToB",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 13,
                "pos": 395,
              },
              "start": Object {
                "column": 2,
                "line": 13,
                "pos": 391,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 38,
                "line": 13,
                "pos": 427,
              },
              "start": Object {
                "column": 32,
                "line": 13,
                "pos": 421,
              },
            },
            "name": "State3",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State2",
      "type": "State",
    },
    Object {
      "_name": "State3",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 18,
          "pos": 520,
        },
        "start": Object {
          "column": 1,
          "line": 15,
          "pos": 432,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 35,
              "line": 17,
              "pos": 517,
            },
            "start": Object {
              "column": 2,
              "line": 16,
              "pos": 445,
            },
          },
          "name": "receive_Choice1LabelFromB",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 9,
                "line": 16,
                "pos": 452,
              },
              "start": Object {
                "column": 2,
                "line": 16,
                "pos": 445,
              },
            },
            "name": "Choice1",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "decision:1",
            "loc": Object {
              "end": Object {
                "column": 35,
                "line": 17,
                "pos": 517,
              },
              "start": Object {
                "column": 2,
                "line": 17,
                "pos": 484,
              },
            },
            "transitions": Array [
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 10,
                      "line": 17,
                      "pos": 492,
                    },
                    "start": Object {
                      "column": 3,
                      "line": 17,
                      "pos": 485,
                    },
                  },
                  "name": "APPROVE",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 18,
                      "line": 17,
                      "pos": 500,
                    },
                    "start": Object {
                      "column": 12,
                      "line": 17,
                      "pos": 494,
                    },
                  },
                  "name": "State4",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 26,
                      "line": 17,
                      "pos": 508,
                    },
                    "start": Object {
                      "column": 20,
                      "line": 17,
                      "pos": 502,
                    },
                  },
                  "name": "REFUSE",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 34,
                      "line": 17,
                      "pos": 516,
                    },
                    "start": Object {
                      "column": 28,
                      "line": 17,
                      "pos": 510,
                    },
                  },
                  "name": "State6",
                  "type": "Identifier",
                },
              ],
            ],
            "type": "DecisionState",
          },
          "type": "Method",
        },
      ],
      "name": "State3",
      "type": "State",
    },
    Object {
      "_name": "State4",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 21,
          "pos": 583,
        },
        "start": Object {
          "column": 1,
          "line": 19,
          "pos": 522,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 47,
              "line": 20,
              "pos": 580,
            },
            "start": Object {
              "column": 2,
              "line": 20,
              "pos": 535,
            },
          },
          "name": "receive_approveBooleanFromB",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 9,
                "line": 20,
                "pos": 542,
              },
              "start": Object {
                "column": 2,
                "line": 20,
                "pos": 535,
              },
            },
            "name": "Boolean",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 47,
                "line": 20,
                "pos": 580,
              },
              "start": Object {
                "column": 41,
                "line": 20,
                "pos": 574,
              },
            },
            "name": "State5",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State4",
      "type": "State",
    },
    Object {
      "_name": "State5",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 24,
          "pos": 641,
        },
        "start": Object {
          "column": 1,
          "line": 22,
          "pos": 585,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 42,
              "line": 23,
              "pos": 638,
            },
            "start": Object {
              "column": 2,
              "line": 23,
              "pos": 598,
            },
          },
          "name": "receive_invoiceStringFromA",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 8,
                "line": 23,
                "pos": 604,
              },
              "start": Object {
                "column": 2,
                "line": 23,
                "pos": 598,
              },
            },
            "name": "String",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 42,
                "line": 23,
                "pos": 638,
              },
              "start": Object {
                "column": 39,
                "line": 23,
                "pos": 635,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State5",
      "type": "State",
    },
    Object {
      "_name": "State6",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 27,
          "pos": 700,
        },
        "start": Object {
          "column": 1,
          "line": 25,
          "pos": 643,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 43,
              "line": 26,
              "pos": 697,
            },
            "start": Object {
              "column": 2,
              "line": 26,
              "pos": 656,
            },
          },
          "name": "receive_refuseBooleanFromB",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 9,
                "line": 26,
                "pos": 663,
              },
              "start": Object {
                "column": 2,
                "line": 26,
                "pos": 656,
              },
            },
            "name": "Boolean",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 43,
                "line": 26,
                "pos": 697,
              },
              "start": Object {
                "column": 40,
                "line": 26,
                "pos": 694,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State6",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/distributed-client-travelagency-bank/Client.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 1,
      "line": 23,
      "pos": 294,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "ClientProtocol",
  "states": Array [
    Object {
      "_name": "State0",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 5,
          "pos": 77,
        },
        "start": Object {
          "column": 1,
          "line": 3,
          "pos": 29,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 25,
                  "line": 4,
                  "pos": 65,
                },
                "start": Object {
                  "column": 19,
                  "line": 4,
                  "pos": 59,
                },
              },
              "name": "Travel",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 34,
              "line": 4,
              "pos": 74,
            },
            "start": Object {
              "column": 2,
              "line": 4,
              "pos": 42,
            },
          },
          "name": "sendRequest",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 4,
                "pos": 46,
              },
              "start": Object {
                "column": 2,
                "line": 4,
                "pos": 42,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 34,
                "line": 4,
                "pos": 74,
              },
              "start": Object {
                "column": 28,
                "line": 4,
                "pos": 68,
              },
            },
            "name": "State1",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State0",
      "type": "State",
    },
    Object {
      "_name": "State1",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 9,
          "pos": 123,
        },
        "start": Object {
          "column": 1,
          "line": 7,
          "pos": 81,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 28,
              "line": 8,
              "pos": 120,
            },
            "start": Object {
              "column": 2,
              "line": 8,
              "pos": 94,
            },
          },
          "name": "receiveData",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 8,
                "pos": 98,
              },
              "start": Object {
                "column": 2,
                "line": 8,
                "pos": 94,
              },
            },
            "name": "Data",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 28,
                "line": 8,
                "pos": 120,
              },
              "start": Object {
                "column": 22,
                "line": 8,
                "pos": 114,
              },
            },
            "name": "State2",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State1",
      "type": "State",
    },
    Object {
      "_name": "State2",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 13,
          "pos": 169,
        },
        "start": Object {
          "column": 1,
          "line": 11,
          "pos": 127,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 19,
                  "line": 12,
                  "pos": 157,
                },
                "start": Object {
                  "column": 15,
                  "line": 12,
                  "pos": 153,
                },
              },
              "name": "Data",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 28,
              "line": 12,
              "pos": 166,
            },
            "start": Object {
              "column": 2,
              "line": 12,
              "pos": 140,
            },
          },
          "name": "payment",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 12,
                "pos": 144,
              },
              "start": Object {
                "column": 2,
                "line": 12,
                "pos": 140,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 28,
                "line": 12,
                "pos": 166,
              },
              "start": Object {
                "column": 22,
                "line": 12,
                "pos": 160,
              },
            },
            "name": "State3",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State2",
      "type": "State",
    },
    Object {
      "_name": "State3",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 17,
          "pos": 242,
        },
        "start": Object {
          "column": 1,
          "line": 15,
          "pos": 173,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 55,
              "line": 16,
              "pos": 239,
            },
            "start": Object {
              "column": 2,
              "line": 16,
              "pos": 186,
            },
          },
          "name": "receiveApproval",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 9,
                "line": 16,
                "pos": 193,
              },
              "start": Object {
                "column": 2,
                "line": 16,
                "pos": 186,
              },
            },
            "name": "boolean",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "decision:1",
            "loc": Object {
              "end": Object {
                "column": 55,
                "line": 16,
                "pos": 239,
              },
              "start": Object {
                "column": 29,
                "line": 16,
                "pos": 213,
              },
            },
            "transitions": Array [
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 34,
                      "line": 16,
                      "pos": 218,
                    },
                    "start": Object {
                      "column": 30,
                      "line": 16,
                      "pos": 214,
                    },
                  },
                  "name": "true",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 42,
                      "line": 16,
                      "pos": 226,
                    },
                    "start": Object {
                      "column": 36,
                      "line": 16,
                      "pos": 220,
                    },
                  },
                  "name": "State4",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 49,
                      "line": 16,
                      "pos": 233,
                    },
                    "start": Object {
                      "column": 44,
                      "line": 16,
                      "pos": 228,
                    },
                  },
                  "name": "false",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 54,
                      "line": 16,
                      "pos": 238,
                    },
                    "start": Object {
                      "column": 51,
                      "line": 16,
                      "pos": 235,
                    },
                  },
                  "name": "end",
                  "type": "Identifier",
                },
              ],
            ],
            "type": "DecisionState",
          },
          "type": "Method",
        },
      ],
      "name": "State3",
      "type": "State",
    },
    Object {
      "_name": "State4",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 21,
          "pos": 291,
        },
        "start": Object {
          "column": 1,
          "line": 19,
          "pos": 246,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 31,
              "line": 20,
              "pos": 288,
            },
            "start": Object {
              "column": 2,
              "line": 20,
              "pos": 259,
            },
          },
          "name": "receiveInvoice",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 9,
                "line": 20,
                "pos": 266,
              },
              "start": Object {
                "column": 2,
                "line": 20,
                "pos": 259,
              },
            },
            "name": "Invoice",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 31,
                "line": 20,
                "pos": 288,
              },
              "start": Object {
                "column": 28,
                "line": 20,
                "pos": 285,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State4",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/distributed-client-travelagency-bank/TravelAgency.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 1,
      "line": 19,
      "pos": 255,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "TravelAgencyProtocol",
  "states": Array [
    Object {
      "_name": "State0",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 5,
          "pos": 82,
        },
        "start": Object {
          "column": 1,
          "line": 3,
          "pos": 35,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 33,
              "line": 4,
              "pos": 79,
            },
            "start": Object {
              "column": 2,
              "line": 4,
              "pos": 48,
            },
          },
          "name": "receiveRequest",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 8,
                "line": 4,
                "pos": 54,
              },
              "start": Object {
                "column": 2,
                "line": 4,
                "pos": 48,
              },
            },
            "name": "Travel",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 33,
                "line": 4,
                "pos": 79,
              },
              "start": Object {
                "column": 27,
                "line": 4,
                "pos": 73,
              },
            },
            "name": "State1",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State0",
      "type": "State",
    },
    Object {
      "_name": "State1",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 9,
          "pos": 129,
        },
        "start": Object {
          "column": 1,
          "line": 7,
          "pos": 86,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 20,
                  "line": 8,
                  "pos": 117,
                },
                "start": Object {
                  "column": 16,
                  "line": 8,
                  "pos": 113,
                },
              },
              "name": "Data",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 29,
              "line": 8,
              "pos": 126,
            },
            "start": Object {
              "column": 2,
              "line": 8,
              "pos": 99,
            },
          },
          "name": "sendData",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 8,
                "pos": 103,
              },
              "start": Object {
                "column": 2,
                "line": 8,
                "pos": 99,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 29,
                "line": 8,
                "pos": 126,
              },
              "start": Object {
                "column": 23,
                "line": 8,
                "pos": 120,
              },
            },
            "name": "State2",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State1",
      "type": "State",
    },
    Object {
      "_name": "State2",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 13,
          "pos": 202,
        },
        "start": Object {
          "column": 1,
          "line": 11,
          "pos": 133,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 55,
              "line": 12,
              "pos": 199,
            },
            "start": Object {
              "column": 2,
              "line": 12,
              "pos": 146,
            },
          },
          "name": "receiveApproval",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 9,
                "line": 12,
                "pos": 153,
              },
              "start": Object {
                "column": 2,
                "line": 12,
                "pos": 146,
              },
            },
            "name": "boolean",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "decision:1",
            "loc": Object {
              "end": Object {
                "column": 55,
                "line": 12,
                "pos": 199,
              },
              "start": Object {
                "column": 29,
                "line": 12,
                "pos": 173,
              },
            },
            "transitions": Array [
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 34,
                      "line": 12,
                      "pos": 178,
                    },
                    "start": Object {
                      "column": 30,
                      "line": 12,
                      "pos": 174,
                    },
                  },
                  "name": "true",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 42,
                      "line": 12,
                      "pos": 186,
                    },
                    "start": Object {
                      "column": 36,
                      "line": 12,
                      "pos": 180,
                    },
                  },
                  "name": "State3",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 49,
                      "line": 12,
                      "pos": 193,
                    },
                    "start": Object {
                      "column": 44,
                      "line": 12,
                      "pos": 188,
                    },
                  },
                  "name": "false",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 54,
                      "line": 12,
                      "pos": 198,
                    },
                    "start": Object {
                      "column": 51,
                      "line": 12,
                      "pos": 195,
                    },
                  },
                  "name": "end",
                  "type": "Identifier",
                },
              ],
            ],
            "type": "DecisionState",
          },
          "type": "Method",
        },
      ],
      "name": "State2",
      "type": "State",
    },
    Object {
      "_name": "State3",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 17,
          "pos": 252,
        },
        "start": Object {
          "column": 1,
          "line": 15,
          "pos": 206,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 26,
                  "line": 16,
                  "pos": 243,
                },
                "start": Object {
                  "column": 19,
                  "line": 16,
                  "pos": 236,
                },
              },
              "name": "Invoice",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 32,
              "line": 16,
              "pos": 249,
            },
            "start": Object {
              "column": 2,
              "line": 16,
              "pos": 219,
            },
          },
          "name": "sendInvoice",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 16,
                "pos": 223,
              },
              "start": Object {
                "column": 2,
                "line": 16,
                "pos": 219,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 32,
                "line": 16,
                "pos": 249,
              },
              "start": Object {
                "column": 29,
                "line": 16,
                "pos": 246,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State3",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/file.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 21,
      "pos": 254,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "FileProtocol",
  "states": Array [
    Object {
      "_name": "Init",
      "loc": Object {
        "end": Object {
          "column": 3,
          "line": 5,
          "pos": 82,
        },
        "start": Object {
          "column": 2,
          "line": 3,
          "pos": 28,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 40,
              "line": 4,
              "pos": 78,
            },
            "start": Object {
              "column": 4,
              "line": 4,
              "pos": 42,
            },
          },
          "name": "open",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 10,
                "line": 4,
                "pos": 48,
              },
              "start": Object {
                "column": 4,
                "line": 4,
                "pos": 42,
              },
            },
            "name": "Status",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "decision:1",
            "loc": Object {
              "end": Object {
                "column": 40,
                "line": 4,
                "pos": 78,
              },
              "start": Object {
                "column": 19,
                "line": 4,
                "pos": 57,
              },
            },
            "transitions": Array [
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 22,
                      "line": 4,
                      "pos": 60,
                    },
                    "start": Object {
                      "column": 20,
                      "line": 4,
                      "pos": 58,
                    },
                  },
                  "name": "OK",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 28,
                      "line": 4,
                      "pos": 66,
                    },
                    "start": Object {
                      "column": 24,
                      "line": 4,
                      "pos": 62,
                    },
                  },
                  "name": "Open",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 35,
                      "line": 4,
                      "pos": 73,
                    },
                    "start": Object {
                      "column": 30,
                      "line": 4,
                      "pos": 68,
                    },
                  },
                  "name": "ERROR",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 39,
                      "line": 4,
                      "pos": 77,
                    },
                    "start": Object {
                      "column": 36,
                      "line": 4,
                      "pos": 74,
                    },
                  },
                  "name": "end",
                  "type": "Identifier",
                },
              ],
            ],
            "type": "DecisionState",
          },
          "type": "Method",
        },
      ],
      "name": "Init",
      "type": "State",
    },
    Object {
      "_name": "Open",
      "loc": Object {
        "end": Object {
          "column": 3,
          "line": 10,
          "pos": 172,
        },
        "start": Object {
          "column": 2,
          "line": 7,
          "pos": 86,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 49,
              "line": 8,
              "pos": 145,
            },
            "start": Object {
              "column": 4,
              "line": 8,
              "pos": 100,
            },
          },
          "name": "hasNext",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 11,
                "line": 8,
                "pos": 107,
              },
              "start": Object {
                "column": 4,
                "line": 8,
                "pos": 100,
              },
            },
            "name": "Boolean",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "decision:2",
            "loc": Object {
              "end": Object {
                "column": 49,
                "line": 8,
                "pos": 145,
              },
              "start": Object {
                "column": 23,
                "line": 8,
                "pos": 119,
              },
            },
            "transitions": Array [
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 28,
                      "line": 8,
                      "pos": 124,
                    },
                    "start": Object {
                      "column": 24,
                      "line": 8,
                      "pos": 120,
                    },
                  },
                  "name": "TRUE",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 34,
                      "line": 8,
                      "pos": 130,
                    },
                    "start": Object {
                      "column": 30,
                      "line": 8,
                      "pos": 126,
                    },
                  },
                  "name": "Read",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 41,
                      "line": 8,
                      "pos": 137,
                    },
                    "start": Object {
                      "column": 36,
                      "line": 8,
                      "pos": 132,
                    },
                  },
                  "name": "FALSE",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 48,
                      "line": 8,
                      "pos": 144,
                    },
                    "start": Object {
                      "column": 43,
                      "line": 8,
                      "pos": 139,
                    },
                  },
                  "name": "Close",
                  "type": "Identifier",
                },
              ],
            ],
            "type": "DecisionState",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 21,
              "line": 9,
              "pos": 168,
            },
            "start": Object {
              "column": 4,
              "line": 9,
              "pos": 151,
            },
          },
          "name": "close",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 8,
                "line": 9,
                "pos": 155,
              },
              "start": Object {
                "column": 4,
                "line": 9,
                "pos": 151,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 21,
                "line": 9,
                "pos": 168,
              },
              "start": Object {
                "column": 18,
                "line": 9,
                "pos": 165,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "Open",
      "type": "State",
    },
    Object {
      "_name": "Read",
      "loc": Object {
        "end": Object {
          "column": 3,
          "line": 14,
          "pos": 211,
        },
        "start": Object {
          "column": 2,
          "line": 12,
          "pos": 176,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 21,
              "line": 13,
              "pos": 207,
            },
            "start": Object {
              "column": 4,
              "line": 13,
              "pos": 190,
            },
          },
          "name": "read",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 8,
                "line": 13,
                "pos": 194,
              },
              "start": Object {
                "column": 4,
                "line": 13,
                "pos": 190,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 21,
                "line": 13,
                "pos": 207,
              },
              "start": Object {
                "column": 17,
                "line": 13,
                "pos": 203,
              },
            },
            "name": "Open",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "Read",
      "type": "State",
    },
    Object {
      "_name": "Close",
      "loc": Object {
        "end": Object {
          "column": 3,
          "line": 18,
          "pos": 250,
        },
        "start": Object {
          "column": 2,
          "line": 16,
          "pos": 215,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 21,
              "line": 17,
              "pos": 246,
            },
            "start": Object {
              "column": 4,
              "line": 17,
              "pos": 229,
            },
          },
          "name": "close",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 8,
                "line": 17,
                "pos": 233,
              },
              "start": Object {
                "column": 4,
                "line": 17,
                "pos": 229,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 21,
                "line": 17,
                "pos": 246,
              },
              "start": Object {
                "column": 18,
                "line": 17,
                "pos": 243,
              },
            },
            "name": "end",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "Close",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/infinite/BankProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 8,
      "pos": 76,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "BankProtocol",
  "states": Array [
    Object {
      "_name": "State0",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 5,
          "pos": 72,
        },
        "start": Object {
          "column": 1,
          "line": 3,
          "pos": 27,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 31,
              "line": 4,
              "pos": 69,
            },
            "start": Object {
              "column": 2,
              "line": 4,
              "pos": 40,
            },
          },
          "name": "receivePayment",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 4,
                "pos": 44,
              },
              "start": Object {
                "column": 2,
                "line": 4,
                "pos": 40,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 31,
                "line": 4,
                "pos": 69,
              },
              "start": Object {
                "column": 25,
                "line": 4,
                "pos": 63,
              },
            },
            "name": "State0",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State0",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/inner-state-in-decision.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 14,
      "pos": 182,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "InnerStateInDecision",
  "states": Array [
    Object {
      "_name": "Init",
      "loc": Object {
        "end": Object {
          "column": 3,
          "line": 4,
          "pos": 69,
        },
        "start": Object {
          "column": 2,
          "line": 2,
          "pos": 35,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 21,
              "line": 3,
              "pos": 65,
            },
            "start": Object {
              "column": 4,
              "line": 3,
              "pos": 48,
            },
          },
          "name": "next",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 8,
                "line": 3,
                "pos": 52,
              },
              "start": Object {
                "column": 4,
                "line": 3,
                "pos": 48,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 21,
                "line": 3,
                "pos": 65,
              },
              "start": Object {
                "column": 17,
                "line": 3,
                "pos": 61,
              },
            },
            "name": "Next",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "Init",
      "type": "State",
    },
    Object {
      "_name": "Next",
      "loc": Object {
        "end": Object {
          "column": 3,
          "line": 12,
          "pos": 179,
        },
        "start": Object {
          "column": 2,
          "line": 5,
          "pos": 72,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 5,
              "line": 11,
              "pos": 175,
            },
            "start": Object {
              "column": 4,
              "line": 6,
              "pos": 85,
            },
          },
          "name": "next2",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 11,
                "line": 6,
                "pos": 92,
              },
              "start": Object {
                "column": 4,
                "line": 6,
                "pos": 85,
              },
            },
            "name": "boolean",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "decision:1",
            "loc": Object {
              "end": Object {
                "column": 5,
                "line": 11,
                "pos": 175,
              },
              "start": Object {
                "column": 21,
                "line": 6,
                "pos": 102,
              },
            },
            "transitions": Array [
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 10,
                      "line": 7,
                      "pos": 114,
                    },
                    "start": Object {
                      "column": 6,
                      "line": 7,
                      "pos": 110,
                    },
                  },
                  "name": "true",
                  "type": "Identifier",
                },
                Object {
                  "_name": "unknown:3",
                  "loc": Object {
                    "end": Object {
                      "column": 7,
                      "line": 9,
                      "pos": 151,
                    },
                    "start": Object {
                      "column": 12,
                      "line": 7,
                      "pos": 116,
                    },
                  },
                  "methods": Array [
                    Object {
                      "arguments": Array [],
                      "loc": Object {
                        "end": Object {
                          "column": 25,
                          "line": 8,
                          "pos": 143,
                        },
                        "start": Object {
                          "column": 8,
                          "line": 8,
                          "pos": 126,
                        },
                      },
                      "name": "next3",
                      "returnType": Object {
                        "loc": Object {
                          "end": Object {
                            "column": 12,
                            "line": 8,
                            "pos": 130,
                          },
                          "start": Object {
                            "column": 8,
                            "line": 8,
                            "pos": 126,
                          },
                        },
                        "name": "void",
                        "type": "Identifier",
                      },
                      "transition": Object {
                        "loc": Object {
                          "end": Object {
                            "column": 25,
                            "line": 8,
                            "pos": 143,
                          },
                          "start": Object {
                            "column": 22,
                            "line": 8,
                            "pos": 140,
                          },
                        },
                        "name": "end",
                        "type": "Identifier",
                      },
                      "type": "Method",
                    },
                  ],
                  "name": null,
                  "type": "State",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 11,
                      "line": 10,
                      "pos": 164,
                    },
                    "start": Object {
                      "column": 6,
                      "line": 10,
                      "pos": 159,
                    },
                  },
                  "name": "false",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 16,
                      "line": 10,
                      "pos": 169,
                    },
                    "start": Object {
                      "column": 13,
                      "line": 10,
                      "pos": 166,
                    },
                  },
                  "name": "end",
                  "type": "Identifier",
                },
              ],
            ],
            "type": "DecisionState",
          },
          "type": "Method",
        },
      ],
      "name": "Next",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/local-client-travelagency-bank/BankProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 8,
      "pos": 91,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "BankProtocol",
  "states": Array [
    Object {
      "_name": "State0",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 5,
          "pos": 87,
        },
        "start": Object {
          "column": 1,
          "line": 3,
          "pos": 27,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 37,
                  "line": 4,
                  "pos": 75,
                },
                "start": Object {
                  "column": 31,
                  "line": 4,
                  "pos": 69,
                },
              },
              "name": "String",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 46,
              "line": 4,
              "pos": 84,
            },
            "start": Object {
              "column": 2,
              "line": 4,
              "pos": 40,
            },
          },
          "name": "receivePayment",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 15,
                "line": 4,
                "pos": 53,
              },
              "start": Object {
                "column": 2,
                "line": 4,
                "pos": 40,
              },
            },
            "name": "PaymentStatus",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 46,
                "line": 4,
                "pos": 84,
              },
              "start": Object {
                "column": 40,
                "line": 4,
                "pos": 78,
              },
            },
            "name": "State0",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State0",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/local-client-travelagency-bank/ClientProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 17,
      "pos": 254,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "ClientProtocol",
  "states": Array [
    Object {
      "_name": "State0",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 6,
          "pos": 109,
        },
        "start": Object {
          "column": 1,
          "line": 3,
          "pos": 29,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 30,
              "line": 4,
              "pos": 70,
            },
            "start": Object {
              "column": 2,
              "line": 4,
              "pos": 42,
            },
          },
          "name": "receiveInfo",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 8,
                "line": 4,
                "pos": 48,
              },
              "start": Object {
                "column": 2,
                "line": 4,
                "pos": 42,
              },
            },
            "name": "String",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 30,
                "line": 4,
                "pos": 70,
              },
              "start": Object {
                "column": 24,
                "line": 4,
                "pos": 64,
              },
            },
            "name": "State0",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 25,
                  "line": 5,
                  "pos": 97,
                },
                "start": Object {
                  "column": 19,
                  "line": 5,
                  "pos": 91,
                },
              },
              "name": "String",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 34,
              "line": 5,
              "pos": 106,
            },
            "start": Object {
              "column": 2,
              "line": 5,
              "pos": 74,
            },
          },
          "name": "sendRequest",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 5,
                "pos": 78,
              },
              "start": Object {
                "column": 2,
                "line": 5,
                "pos": 74,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 34,
                "line": 5,
                "pos": 106,
              },
              "start": Object {
                "column": 28,
                "line": 5,
                "pos": 100,
              },
            },
            "name": "State1",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State0",
      "type": "State",
    },
    Object {
      "_name": "State1",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 10,
          "pos": 199,
        },
        "start": Object {
          "column": 1,
          "line": 8,
          "pos": 113,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 33,
                  "line": 9,
                  "pos": 157,
                },
                "start": Object {
                  "column": 27,
                  "line": 9,
                  "pos": 151,
                },
              },
              "name": "String",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 72,
              "line": 9,
              "pos": 196,
            },
            "start": Object {
              "column": 2,
              "line": 9,
              "pos": 126,
            },
          },
          "name": "tryPayment",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 15,
                "line": 9,
                "pos": 139,
              },
              "start": Object {
                "column": 2,
                "line": 9,
                "pos": 126,
              },
            },
            "name": "PaymentStatus",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "decision:1",
            "loc": Object {
              "end": Object {
                "column": 72,
                "line": 9,
                "pos": 196,
              },
              "start": Object {
                "column": 36,
                "line": 9,
                "pos": 160,
              },
            },
            "transitions": Array [
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 39,
                      "line": 9,
                      "pos": 163,
                    },
                    "start": Object {
                      "column": 37,
                      "line": 9,
                      "pos": 161,
                    },
                  },
                  "name": "OK",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 47,
                      "line": 9,
                      "pos": 171,
                    },
                    "start": Object {
                      "column": 41,
                      "line": 9,
                      "pos": 165,
                    },
                  },
                  "name": "State2",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 51,
                      "line": 9,
                      "pos": 175,
                    },
                    "start": Object {
                      "column": 49,
                      "line": 9,
                      "pos": 173,
                    },
                  },
                  "name": "KO",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 59,
                      "line": 9,
                      "pos": 183,
                    },
                    "start": Object {
                      "column": 53,
                      "line": 9,
                      "pos": 177,
                    },
                  },
                  "name": "State0",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 63,
                      "line": 9,
                      "pos": 187,
                    },
                    "start": Object {
                      "column": 61,
                      "line": 9,
                      "pos": 185,
                    },
                  },
                  "name": "TA",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 71,
                      "line": 9,
                      "pos": 195,
                    },
                    "start": Object {
                      "column": 65,
                      "line": 9,
                      "pos": 189,
                    },
                  },
                  "name": "State1",
                  "type": "Identifier",
                },
              ],
            ],
            "type": "DecisionState",
          },
          "type": "Method",
        },
      ],
      "name": "State1",
      "type": "State",
    },
    Object {
      "_name": "State2",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 14,
          "pos": 250,
        },
        "start": Object {
          "column": 1,
          "line": 12,
          "pos": 203,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 33,
              "line": 13,
              "pos": 247,
            },
            "start": Object {
              "column": 2,
              "line": 13,
              "pos": 216,
            },
          },
          "name": "receiveInvoice",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 8,
                "line": 13,
                "pos": 222,
              },
              "start": Object {
                "column": 2,
                "line": 13,
                "pos": 216,
              },
            },
            "name": "String",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 33,
                "line": 13,
                "pos": 247,
              },
              "start": Object {
                "column": 27,
                "line": 13,
                "pos": 241,
              },
            },
            "name": "State0",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State2",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: ast test/fixtures/local-client-travelagency-bank/TravelAgencyProtocol.protocol 1`] = `
Object {
  "loc": Object {
    "end": Object {
      "column": 0,
      "line": 17,
      "pos": 255,
    },
    "start": Object {
      "column": 0,
      "line": 1,
      "pos": 0,
    },
  },
  "name": "TravelAgencyProtocol",
  "states": Array [
    Object {
      "_name": "State0",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 6,
          "pos": 114,
        },
        "start": Object {
          "column": 1,
          "line": 3,
          "pos": 35,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 26,
              "line": 4,
              "pos": 72,
            },
            "start": Object {
              "column": 2,
              "line": 4,
              "pos": 48,
            },
          },
          "name": "getInfo",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 8,
                "line": 4,
                "pos": 54,
              },
              "start": Object {
                "column": 2,
                "line": 4,
                "pos": 48,
              },
            },
            "name": "String",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 26,
                "line": 4,
                "pos": 72,
              },
              "start": Object {
                "column": 20,
                "line": 4,
                "pos": 66,
              },
            },
            "name": "State0",
            "type": "Identifier",
          },
          "type": "Method",
        },
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 28,
                  "line": 5,
                  "pos": 102,
                },
                "start": Object {
                  "column": 22,
                  "line": 5,
                  "pos": 96,
                },
              },
              "name": "String",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 37,
              "line": 5,
              "pos": 111,
            },
            "start": Object {
              "column": 2,
              "line": 5,
              "pos": 76,
            },
          },
          "name": "receiveRequest",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 6,
                "line": 5,
                "pos": 80,
              },
              "start": Object {
                "column": 2,
                "line": 5,
                "pos": 76,
              },
            },
            "name": "void",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 37,
                "line": 5,
                "pos": 111,
              },
              "start": Object {
                "column": 31,
                "line": 5,
                "pos": 105,
              },
            },
            "name": "State1",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State0",
      "type": "State",
    },
    Object {
      "_name": "State1",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 10,
          "pos": 204,
        },
        "start": Object {
          "column": 1,
          "line": 8,
          "pos": 118,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [
            Object {
              "loc": Object {
                "end": Object {
                  "column": 33,
                  "line": 9,
                  "pos": 162,
                },
                "start": Object {
                  "column": 27,
                  "line": 9,
                  "pos": 156,
                },
              },
              "name": "String",
              "type": "Identifier",
            },
          ],
          "loc": Object {
            "end": Object {
              "column": 72,
              "line": 9,
              "pos": 201,
            },
            "start": Object {
              "column": 2,
              "line": 9,
              "pos": 131,
            },
          },
          "name": "tryPayment",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 15,
                "line": 9,
                "pos": 144,
              },
              "start": Object {
                "column": 2,
                "line": 9,
                "pos": 131,
              },
            },
            "name": "PaymentStatus",
            "type": "Identifier",
          },
          "transition": Object {
            "_name": "decision:1",
            "loc": Object {
              "end": Object {
                "column": 72,
                "line": 9,
                "pos": 201,
              },
              "start": Object {
                "column": 36,
                "line": 9,
                "pos": 165,
              },
            },
            "transitions": Array [
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 39,
                      "line": 9,
                      "pos": 168,
                    },
                    "start": Object {
                      "column": 37,
                      "line": 9,
                      "pos": 166,
                    },
                  },
                  "name": "OK",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 47,
                      "line": 9,
                      "pos": 176,
                    },
                    "start": Object {
                      "column": 41,
                      "line": 9,
                      "pos": 170,
                    },
                  },
                  "name": "State2",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 51,
                      "line": 9,
                      "pos": 180,
                    },
                    "start": Object {
                      "column": 49,
                      "line": 9,
                      "pos": 178,
                    },
                  },
                  "name": "KO",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 59,
                      "line": 9,
                      "pos": 188,
                    },
                    "start": Object {
                      "column": 53,
                      "line": 9,
                      "pos": 182,
                    },
                  },
                  "name": "State0",
                  "type": "Identifier",
                },
              ],
              Array [
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 63,
                      "line": 9,
                      "pos": 192,
                    },
                    "start": Object {
                      "column": 61,
                      "line": 9,
                      "pos": 190,
                    },
                  },
                  "name": "TA",
                  "type": "Identifier",
                },
                Object {
                  "loc": Object {
                    "end": Object {
                      "column": 71,
                      "line": 9,
                      "pos": 200,
                    },
                    "start": Object {
                      "column": 65,
                      "line": 9,
                      "pos": 194,
                    },
                  },
                  "name": "State1",
                  "type": "Identifier",
                },
              ],
            ],
            "type": "DecisionState",
          },
          "type": "Method",
        },
      ],
      "name": "State1",
      "type": "State",
    },
    Object {
      "_name": "State2",
      "loc": Object {
        "end": Object {
          "column": 2,
          "line": 14,
          "pos": 251,
        },
        "start": Object {
          "column": 1,
          "line": 12,
          "pos": 208,
        },
      },
      "methods": Array [
        Object {
          "arguments": Array [],
          "loc": Object {
            "end": Object {
              "column": 29,
              "line": 13,
              "pos": 248,
            },
            "start": Object {
              "column": 2,
              "line": 13,
              "pos": 221,
            },
          },
          "name": "getInvoice",
          "returnType": Object {
            "loc": Object {
              "end": Object {
                "column": 8,
                "line": 13,
                "pos": 227,
              },
              "start": Object {
                "column": 2,
                "line": 13,
                "pos": 221,
              },
            },
            "name": "String",
            "type": "Identifier",
          },
          "transition": Object {
            "loc": Object {
              "end": Object {
                "column": 29,
                "line": 13,
                "pos": 248,
              },
              "start": Object {
                "column": 23,
                "line": 13,
                "pos": 242,
              },
            },
            "name": "State0",
            "type": "Identifier",
          },
          "type": "Method",
        },
      ],
      "name": "State2",
      "type": "State",
    },
  ],
  "type": "Typestate",
}
`;

exports[`mungo examples: automaton test/fixtures/ThreeParties/BobProtocol.protocol 1`] = `
Object {
  "choices": Set {},
  "final": Set {
    "end",
    "unknown:8",
  },
  "lTransitions": Array [],
  "labels": Array [],
  "mTransitions": Array [
    Object {
      "from": "Connect",
      "to": "GreetAlice",
      "transition": Object {
        "arguments": Array [],
        "name": "connect",
        "returnType": "void",
      },
    },
    Object {
      "from": "GreetAlice",
      "to": "GreetCarol",
      "transition": Object {
        "arguments": Array [
          "String",
        ],
        "name": "sendHelloToAlice",
        "returnType": "void",
      },
    },
    Object {
      "from": "GreetCarol",
      "to": "MakeChoice",
      "transition": Object {
        "arguments": Array [
          "String",
        ],
        "name": "sendHelloToCarol",
        "returnType": "void",
      },
    },
    Object {
      "from": "unknown:5",
      "to": "EndProtocol",
      "transition": Object {
        "arguments": Array [],
        "name": "recvTimeFromAlice",
        "returnType": "int",
      },
    },
    Object {
      "from": "MakeChoice",
      "to": "unknown:5",
      "transition": Object {
        "arguments": Array [],
        "name": "sendTimeChoiceToAlice",
        "returnType": "void",
      },
    },
    Object {
      "from": "unknown:6",
      "to": "EndProtocol",
      "transition": Object {
        "arguments": Array [],
        "name": "recvTimeFromCarol",
        "returnType": "int",
      },
    },
    Object {
      "from": "MakeChoice",
      "to": "unknown:6",
      "transition": Object {
        "arguments": Array [],
        "name": "sendTimeChoiceToCarol",
        "returnType": "void",
      },
    },
    Object {
      "from": "EndProtocol",
      "to": "unknown:8",
      "transition": Object {
        "arguments": Array [],
        "name": "endCommunication",
        "returnType": "void",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [],
      "name": "connect",
      "returnType": "void",
    },
    Object {
      "arguments": Array [
        "String",
      ],
      "name": "sendHelloToAlice",
      "returnType": "void",
    },
    Object {
      "arguments": Array [
        "String",
      ],
      "name": "sendHelloToCarol",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "recvTimeFromAlice",
      "returnType": "int",
    },
    Object {
      "arguments": Array [],
      "name": "sendTimeChoiceToAlice",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "recvTimeFromCarol",
      "returnType": "int",
    },
    Object {
      "arguments": Array [],
      "name": "sendTimeChoiceToCarol",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "endCommunication",
      "returnType": "void",
    },
  ],
  "start": "Connect",
  "states": Set {
    "end",
    "Connect",
    "GreetAlice",
    "GreetCarol",
    "MakeChoice",
    "EndProtocol",
    "unknown:5",
    "unknown:6",
    "unknown:8",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/ThreeParties/FriendProtocol.protocol 1`] = `
Object {
  "choices": Set {
    "decision:1",
  },
  "final": Set {
    "end",
  },
  "lTransitions": Array [
    Object {
      "from": "decision:1",
      "to": "SendTime",
      "transition": Object {
        "name": "TIME",
      },
    },
    Object {
      "from": "decision:1",
      "to": "EndProtocol",
      "transition": Object {
        "name": "END",
      },
    },
  ],
  "labels": Array [
    Object {
      "name": "TIME",
    },
    Object {
      "name": "END",
    },
  ],
  "mTransitions": Array [
    Object {
      "from": "unknown:2",
      "to": "ReceiveChoice",
      "transition": Object {
        "arguments": Array [],
        "name": "recvHelloFromBob",
        "returnType": "String",
      },
    },
    Object {
      "from": "Init",
      "to": "unknown:2",
      "transition": Object {
        "arguments": Array [],
        "name": "connect",
        "returnType": "void",
      },
    },
    Object {
      "from": "ReceiveChoice",
      "to": "decision:1",
      "transition": Object {
        "arguments": Array [],
        "name": "recvChoiceFromBob",
        "returnType": "BobChoice",
      },
    },
    Object {
      "from": "SendTime",
      "to": "EndProtocol",
      "transition": Object {
        "arguments": Array [
          "int",
        ],
        "name": "sendTimeToBob",
        "returnType": "void",
      },
    },
    Object {
      "from": "EndProtocol",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "endCommunication",
        "returnType": "void",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [],
      "name": "recvHelloFromBob",
      "returnType": "String",
    },
    Object {
      "arguments": Array [],
      "name": "connect",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "recvChoiceFromBob",
      "returnType": "BobChoice",
    },
    Object {
      "arguments": Array [
        "int",
      ],
      "name": "sendTimeToBob",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "endCommunication",
      "returnType": "void",
    },
  ],
  "start": "Init",
  "states": Set {
    "end",
    "Init",
    "ReceiveChoice",
    "SendTime",
    "EndProtocol",
    "unknown:2",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/TwoParties/AliceProtocol.protocol 1`] = `
Object {
  "choices": Set {
    "decision:1",
  },
  "final": Set {
    "end",
  },
  "lTransitions": Array [
    Object {
      "from": "decision:1",
      "to": "SendTime",
      "transition": Object {
        "name": "TIME",
      },
    },
    Object {
      "from": "decision:1",
      "to": "HowAreYou",
      "transition": Object {
        "name": "GREET",
      },
    },
  ],
  "labels": Array [
    Object {
      "name": "TIME",
    },
    Object {
      "name": "GREET",
    },
  ],
  "mTransitions": Array [
    Object {
      "from": "unknown:2",
      "to": "ReceiveChoice",
      "transition": Object {
        "arguments": Array [],
        "name": "recvStringFromBob",
        "returnType": "String",
      },
    },
    Object {
      "from": "Init",
      "to": "unknown:2",
      "transition": Object {
        "arguments": Array [],
        "name": "connect",
        "returnType": "void",
      },
    },
    Object {
      "from": "ReceiveChoice",
      "to": "decision:1",
      "transition": Object {
        "arguments": Array [],
        "name": "choiceFromBob",
        "returnType": "BobChoice",
      },
    },
    Object {
      "from": "SendTime",
      "to": "EndProtocol",
      "transition": Object {
        "arguments": Array [
          "int",
        ],
        "name": "sendTimeToBob",
        "returnType": "void",
      },
    },
    Object {
      "from": "HowAreYou",
      "to": "EndProtocol",
      "transition": Object {
        "arguments": Array [
          "String",
        ],
        "name": "sendGreetToBob",
        "returnType": "void",
      },
    },
    Object {
      "from": "EndProtocol",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "endCommunication",
        "returnType": "void",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [],
      "name": "recvStringFromBob",
      "returnType": "String",
    },
    Object {
      "arguments": Array [],
      "name": "connect",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "choiceFromBob",
      "returnType": "BobChoice",
    },
    Object {
      "arguments": Array [
        "int",
      ],
      "name": "sendTimeToBob",
      "returnType": "void",
    },
    Object {
      "arguments": Array [
        "String",
      ],
      "name": "sendGreetToBob",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "endCommunication",
      "returnType": "void",
    },
  ],
  "start": "Init",
  "states": Set {
    "end",
    "Init",
    "ReceiveChoice",
    "SendTime",
    "HowAreYou",
    "EndProtocol",
    "unknown:2",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/TwoParties/BobProtocol.protocol 1`] = `
Object {
  "choices": Set {},
  "final": Set {
    "end",
    "unknown:7",
  },
  "lTransitions": Array [],
  "labels": Array [],
  "mTransitions": Array [
    Object {
      "from": "unknown:2",
      "to": "SendChoice",
      "transition": Object {
        "arguments": Array [
          "String",
        ],
        "name": "sendStringToAlice",
        "returnType": "void",
      },
    },
    Object {
      "from": "Init",
      "to": "unknown:2",
      "transition": Object {
        "arguments": Array [],
        "name": "connect",
        "returnType": "void",
      },
    },
    Object {
      "from": "unknown:4",
      "to": "EndProtocol",
      "transition": Object {
        "arguments": Array [],
        "name": "recvTimeFromAlice",
        "returnType": "int",
      },
    },
    Object {
      "from": "SendChoice",
      "to": "unknown:4",
      "transition": Object {
        "arguments": Array [],
        "name": "sendTimeChoiceToAlice",
        "returnType": "void",
      },
    },
    Object {
      "from": "unknown:5",
      "to": "EndProtocol",
      "transition": Object {
        "arguments": Array [],
        "name": "recvGreetingFromAlice",
        "returnType": "String",
      },
    },
    Object {
      "from": "SendChoice",
      "to": "unknown:5",
      "transition": Object {
        "arguments": Array [],
        "name": "sendGreetingChoiceToAlice",
        "returnType": "void",
      },
    },
    Object {
      "from": "EndProtocol",
      "to": "unknown:7",
      "transition": Object {
        "arguments": Array [],
        "name": "endCommunication",
        "returnType": "void",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [
        "String",
      ],
      "name": "sendStringToAlice",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "connect",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "recvTimeFromAlice",
      "returnType": "int",
    },
    Object {
      "arguments": Array [],
      "name": "sendTimeChoiceToAlice",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "recvGreetingFromAlice",
      "returnType": "String",
    },
    Object {
      "arguments": Array [],
      "name": "sendGreetingChoiceToAlice",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "endCommunication",
      "returnType": "void",
    },
  ],
  "start": "Init",
  "states": Set {
    "end",
    "Init",
    "SendChoice",
    "EndProtocol",
    "unknown:2",
    "unknown:4",
    "unknown:5",
    "unknown:7",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/collection/CollectionProtocol.protocol 1`] = `
Object {
  "choices": Set {
    "decision:1",
  },
  "final": Set {
    "end",
  },
  "lTransitions": Array [
    Object {
      "from": "decision:1",
      "to": "Empty",
      "transition": Object {
        "name": "TRUE",
      },
    },
    Object {
      "from": "decision:1",
      "to": "NonEmpty",
      "transition": Object {
        "name": "FALSE",
      },
    },
  ],
  "labels": Array [
    Object {
      "name": "TRUE",
    },
    Object {
      "name": "FALSE",
    },
  ],
  "mTransitions": Array [
    Object {
      "from": "Init",
      "to": "Empty",
      "transition": Object {
        "arguments": Array [
          "int",
        ],
        "name": "initialise",
        "returnType": "void",
      },
    },
    Object {
      "from": "Empty",
      "to": "NonEmpty",
      "transition": Object {
        "arguments": Array [
          "Node",
        ],
        "name": "put",
        "returnType": "void",
      },
    },
    Object {
      "from": "Empty",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "close",
        "returnType": "void",
      },
    },
    Object {
      "from": "NonEmpty",
      "to": "NonEmpty",
      "transition": Object {
        "arguments": Array [
          "Node",
        ],
        "name": "put",
        "returnType": "void",
      },
    },
    Object {
      "from": "NonEmpty",
      "to": "Unknown",
      "transition": Object {
        "arguments": Array [],
        "name": "get",
        "returnType": "Node",
      },
    },
    Object {
      "from": "Unknown",
      "to": "NonEmpty",
      "transition": Object {
        "arguments": Array [
          "Node",
        ],
        "name": "put",
        "returnType": "void",
      },
    },
    Object {
      "from": "Unknown",
      "to": "decision:1",
      "transition": Object {
        "arguments": Array [],
        "name": "isEmpty",
        "returnType": "BooleanChoice",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [
        "int",
      ],
      "name": "initialise",
      "returnType": "void",
    },
    Object {
      "arguments": Array [
        "Node",
      ],
      "name": "put",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "close",
      "returnType": "void",
    },
    Object {
      "arguments": Array [
        "Node",
      ],
      "name": "put",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "get",
      "returnType": "Node",
    },
    Object {
      "arguments": Array [
        "Node",
      ],
      "name": "put",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "isEmpty",
      "returnType": "BooleanChoice",
    },
  ],
  "start": "Init",
  "states": Set {
    "end",
    "Init",
    "Empty",
    "NonEmpty",
    "Unknown",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/collection/StackUser/StackUserProtocol.protocol 1`] = `
Object {
  "choices": Set {},
  "final": Set {
    "end",
  },
  "lTransitions": Array [],
  "labels": Array [],
  "mTransitions": Array [
    Object {
      "from": "Init",
      "to": "Consume",
      "transition": Object {
        "arguments": Array [
          "Stack",
          "int",
        ],
        "name": "produce",
        "returnType": "Stack",
      },
    },
    Object {
      "from": "Init",
      "to": "Consume",
      "transition": Object {
        "arguments": Array [
          "Stack",
        ],
        "name": "produce",
        "returnType": "Stack",
      },
    },
    Object {
      "from": "Init",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "close",
        "returnType": "void",
      },
    },
    Object {
      "from": "Consume",
      "to": "Consume",
      "transition": Object {
        "arguments": Array [
          "Stack",
          "int",
        ],
        "name": "produce",
        "returnType": "Stack",
      },
    },
    Object {
      "from": "Consume",
      "to": "Consume",
      "transition": Object {
        "arguments": Array [
          "Stack",
        ],
        "name": "produce",
        "returnType": "Stack",
      },
    },
    Object {
      "from": "Consume",
      "to": "Init",
      "transition": Object {
        "arguments": Array [
          "Stack",
        ],
        "name": "consume",
        "returnType": "Stack",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [
        "Stack",
        "int",
      ],
      "name": "produce",
      "returnType": "Stack",
    },
    Object {
      "arguments": Array [
        "Stack",
      ],
      "name": "produce",
      "returnType": "Stack",
    },
    Object {
      "arguments": Array [],
      "name": "close",
      "returnType": "void",
    },
    Object {
      "arguments": Array [
        "Stack",
        "int",
      ],
      "name": "produce",
      "returnType": "Stack",
    },
    Object {
      "arguments": Array [
        "Stack",
      ],
      "name": "produce",
      "returnType": "Stack",
    },
    Object {
      "arguments": Array [
        "Stack",
      ],
      "name": "consume",
      "returnType": "Stack",
    },
  ],
  "start": "Init",
  "states": Set {
    "end",
    "Init",
    "Consume",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/collection/StackUser2/StackUserProtocol.protocol 1`] = `
Object {
  "choices": Set {},
  "final": Set {
    "end",
  },
  "lTransitions": Array [],
  "labels": Array [],
  "mTransitions": Array [
    Object {
      "from": "Init",
      "to": "Consume",
      "transition": Object {
        "arguments": Array [
          "int",
        ],
        "name": "produce",
        "returnType": "void",
      },
    },
    Object {
      "from": "Init",
      "to": "Consume",
      "transition": Object {
        "arguments": Array [],
        "name": "produce",
        "returnType": "void",
      },
    },
    Object {
      "from": "Init",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "close",
        "returnType": "void",
      },
    },
    Object {
      "from": "Consume",
      "to": "Consume",
      "transition": Object {
        "arguments": Array [
          "int",
        ],
        "name": "produce",
        "returnType": "void",
      },
    },
    Object {
      "from": "Consume",
      "to": "Consume",
      "transition": Object {
        "arguments": Array [],
        "name": "produce",
        "returnType": "void",
      },
    },
    Object {
      "from": "Consume",
      "to": "Init",
      "transition": Object {
        "arguments": Array [],
        "name": "consume",
        "returnType": "void",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [
        "int",
      ],
      "name": "produce",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "produce",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "close",
      "returnType": "void",
    },
    Object {
      "arguments": Array [
        "int",
      ],
      "name": "produce",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "produce",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "consume",
      "returnType": "void",
    },
  ],
  "start": "Init",
  "states": Set {
    "end",
    "Init",
    "Consume",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/distributed-client-travelagency-bank/AProtocol.protocol 1`] = `
Object {
  "choices": Set {
    "decision:1",
  },
  "final": Set {
    "end",
  },
  "lTransitions": Array [
    Object {
      "from": "decision:1",
      "to": "State3",
      "transition": Object {
        "name": "APPROVE",
      },
    },
    Object {
      "from": "decision:1",
      "to": "State5",
      "transition": Object {
        "name": "REFUSE",
      },
    },
  ],
  "labels": Array [
    Object {
      "name": "APPROVE",
    },
    Object {
      "name": "REFUSE",
    },
  ],
  "mTransitions": Array [
    Object {
      "from": "State0",
      "to": "State1",
      "transition": Object {
        "arguments": Array [],
        "name": "receive_requestStringFromC",
        "returnType": "String",
      },
    },
    Object {
      "from": "State1",
      "to": "State2",
      "transition": Object {
        "arguments": Array [
          "int",
        ],
        "name": "send_dataintToC",
        "returnType": "void",
      },
    },
    Object {
      "from": "State2",
      "to": "decision:1",
      "transition": Object {
        "arguments": Array [],
        "name": "receive_Choice1LabelFromB",
        "returnType": "Choice1",
      },
    },
    Object {
      "from": "State3",
      "to": "State4",
      "transition": Object {
        "arguments": Array [],
        "name": "receive_approveBooleanFromB",
        "returnType": "Boolean",
      },
    },
    Object {
      "from": "State4",
      "to": "end",
      "transition": Object {
        "arguments": Array [
          "String",
        ],
        "name": "send_invoiceStringToBC",
        "returnType": "void",
      },
    },
    Object {
      "from": "State5",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "receive_refuseBooleanFromB",
        "returnType": "Boolean",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [],
      "name": "receive_requestStringFromC",
      "returnType": "String",
    },
    Object {
      "arguments": Array [
        "int",
      ],
      "name": "send_dataintToC",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "receive_Choice1LabelFromB",
      "returnType": "Choice1",
    },
    Object {
      "arguments": Array [],
      "name": "receive_approveBooleanFromB",
      "returnType": "Boolean",
    },
    Object {
      "arguments": Array [
        "String",
      ],
      "name": "send_invoiceStringToBC",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "receive_refuseBooleanFromB",
      "returnType": "Boolean",
    },
  ],
  "start": "State0",
  "states": Set {
    "end",
    "State0",
    "State1",
    "State2",
    "State3",
    "State4",
    "State5",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/distributed-client-travelagency-bank/BProtocol.protocol 1`] = `
Object {
  "choices": Set {},
  "final": Set {
    "end",
  },
  "lTransitions": Array [],
  "labels": Array [],
  "mTransitions": Array [
    Object {
      "from": "State0",
      "to": "State1",
      "transition": Object {
        "arguments": Array [],
        "name": "receive_paymentintFromC",
        "returnType": "int",
      },
    },
    Object {
      "from": "State1",
      "to": "State2",
      "transition": Object {
        "arguments": Array [],
        "name": "send_APPROVEToCA",
        "returnType": "void",
      },
    },
    Object {
      "from": "State1",
      "to": "State4",
      "transition": Object {
        "arguments": Array [],
        "name": "send_REFUSEToCA",
        "returnType": "void",
      },
    },
    Object {
      "from": "State2",
      "to": "State3",
      "transition": Object {
        "arguments": Array [
          "Boolean",
        ],
        "name": "send_approveBooleanToCA",
        "returnType": "void",
      },
    },
    Object {
      "from": "State3",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "receive_invoiceStringFromA",
        "returnType": "String",
      },
    },
    Object {
      "from": "State4",
      "to": "end",
      "transition": Object {
        "arguments": Array [
          "Boolean",
        ],
        "name": "send_refuseBooleanToCA",
        "returnType": "void",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [],
      "name": "receive_paymentintFromC",
      "returnType": "int",
    },
    Object {
      "arguments": Array [],
      "name": "send_APPROVEToCA",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "send_REFUSEToCA",
      "returnType": "void",
    },
    Object {
      "arguments": Array [
        "Boolean",
      ],
      "name": "send_approveBooleanToCA",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "receive_invoiceStringFromA",
      "returnType": "String",
    },
    Object {
      "arguments": Array [
        "Boolean",
      ],
      "name": "send_refuseBooleanToCA",
      "returnType": "void",
    },
  ],
  "start": "State0",
  "states": Set {
    "end",
    "State0",
    "State1",
    "State2",
    "State3",
    "State4",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/distributed-client-travelagency-bank/Bank.protocol 1`] = `
Object {
  "choices": Set {},
  "final": Set {
    "end",
  },
  "lTransitions": Array [],
  "labels": Array [],
  "mTransitions": Array [
    Object {
      "from": "State0",
      "to": "State1",
      "transition": Object {
        "arguments": Array [],
        "name": "receivePayment",
        "returnType": "Data",
      },
    },
    Object {
      "from": "State1",
      "to": "end",
      "transition": Object {
        "arguments": Array [
          "boolean",
        ],
        "name": "sendApproval",
        "returnType": "void",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [],
      "name": "receivePayment",
      "returnType": "Data",
    },
    Object {
      "arguments": Array [
        "boolean",
      ],
      "name": "sendApproval",
      "returnType": "void",
    },
  ],
  "start": "State0",
  "states": Set {
    "end",
    "State0",
    "State1",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/distributed-client-travelagency-bank/CProtocol.protocol 1`] = `
Object {
  "choices": Set {
    "decision:1",
  },
  "final": Set {
    "end",
  },
  "lTransitions": Array [
    Object {
      "from": "decision:1",
      "to": "State4",
      "transition": Object {
        "name": "APPROVE",
      },
    },
    Object {
      "from": "decision:1",
      "to": "State6",
      "transition": Object {
        "name": "REFUSE",
      },
    },
  ],
  "labels": Array [
    Object {
      "name": "APPROVE",
    },
    Object {
      "name": "REFUSE",
    },
  ],
  "mTransitions": Array [
    Object {
      "from": "State0",
      "to": "State1",
      "transition": Object {
        "arguments": Array [
          "String",
        ],
        "name": "send_requestStringToA",
        "returnType": "void",
      },
    },
    Object {
      "from": "State1",
      "to": "State2",
      "transition": Object {
        "arguments": Array [],
        "name": "receive_dataintFromA",
        "returnType": "int",
      },
    },
    Object {
      "from": "State2",
      "to": "State3",
      "transition": Object {
        "arguments": Array [
          "int",
        ],
        "name": "send_paymentintToB",
        "returnType": "void",
      },
    },
    Object {
      "from": "State3",
      "to": "decision:1",
      "transition": Object {
        "arguments": Array [],
        "name": "receive_Choice1LabelFromB",
        "returnType": "Choice1",
      },
    },
    Object {
      "from": "State4",
      "to": "State5",
      "transition": Object {
        "arguments": Array [],
        "name": "receive_approveBooleanFromB",
        "returnType": "Boolean",
      },
    },
    Object {
      "from": "State5",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "receive_invoiceStringFromA",
        "returnType": "String",
      },
    },
    Object {
      "from": "State6",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "receive_refuseBooleanFromB",
        "returnType": "Boolean",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [
        "String",
      ],
      "name": "send_requestStringToA",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "receive_dataintFromA",
      "returnType": "int",
    },
    Object {
      "arguments": Array [
        "int",
      ],
      "name": "send_paymentintToB",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "receive_Choice1LabelFromB",
      "returnType": "Choice1",
    },
    Object {
      "arguments": Array [],
      "name": "receive_approveBooleanFromB",
      "returnType": "Boolean",
    },
    Object {
      "arguments": Array [],
      "name": "receive_invoiceStringFromA",
      "returnType": "String",
    },
    Object {
      "arguments": Array [],
      "name": "receive_refuseBooleanFromB",
      "returnType": "Boolean",
    },
  ],
  "start": "State0",
  "states": Set {
    "end",
    "State0",
    "State1",
    "State2",
    "State3",
    "State4",
    "State5",
    "State6",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/distributed-client-travelagency-bank/Client.protocol 1`] = `
Object {
  "choices": Set {
    "decision:1",
  },
  "final": Set {
    "end",
  },
  "lTransitions": Array [
    Object {
      "from": "decision:1",
      "to": "State4",
      "transition": Object {
        "name": "true",
      },
    },
    Object {
      "from": "decision:1",
      "to": "end",
      "transition": Object {
        "name": "false",
      },
    },
  ],
  "labels": Array [
    Object {
      "name": "true",
    },
    Object {
      "name": "false",
    },
  ],
  "mTransitions": Array [
    Object {
      "from": "State0",
      "to": "State1",
      "transition": Object {
        "arguments": Array [
          "Travel",
        ],
        "name": "sendRequest",
        "returnType": "void",
      },
    },
    Object {
      "from": "State1",
      "to": "State2",
      "transition": Object {
        "arguments": Array [],
        "name": "receiveData",
        "returnType": "Data",
      },
    },
    Object {
      "from": "State2",
      "to": "State3",
      "transition": Object {
        "arguments": Array [
          "Data",
        ],
        "name": "payment",
        "returnType": "void",
      },
    },
    Object {
      "from": "State3",
      "to": "decision:1",
      "transition": Object {
        "arguments": Array [],
        "name": "receiveApproval",
        "returnType": "boolean",
      },
    },
    Object {
      "from": "State4",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "receiveInvoice",
        "returnType": "Invoice",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [
        "Travel",
      ],
      "name": "sendRequest",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "receiveData",
      "returnType": "Data",
    },
    Object {
      "arguments": Array [
        "Data",
      ],
      "name": "payment",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "receiveApproval",
      "returnType": "boolean",
    },
    Object {
      "arguments": Array [],
      "name": "receiveInvoice",
      "returnType": "Invoice",
    },
  ],
  "start": "State0",
  "states": Set {
    "end",
    "State0",
    "State1",
    "State2",
    "State3",
    "State4",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/distributed-client-travelagency-bank/TravelAgency.protocol 1`] = `
Object {
  "choices": Set {
    "decision:1",
  },
  "final": Set {
    "end",
  },
  "lTransitions": Array [
    Object {
      "from": "decision:1",
      "to": "State3",
      "transition": Object {
        "name": "true",
      },
    },
    Object {
      "from": "decision:1",
      "to": "end",
      "transition": Object {
        "name": "false",
      },
    },
  ],
  "labels": Array [
    Object {
      "name": "true",
    },
    Object {
      "name": "false",
    },
  ],
  "mTransitions": Array [
    Object {
      "from": "State0",
      "to": "State1",
      "transition": Object {
        "arguments": Array [],
        "name": "receiveRequest",
        "returnType": "Travel",
      },
    },
    Object {
      "from": "State1",
      "to": "State2",
      "transition": Object {
        "arguments": Array [
          "Data",
        ],
        "name": "sendData",
        "returnType": "void",
      },
    },
    Object {
      "from": "State2",
      "to": "decision:1",
      "transition": Object {
        "arguments": Array [],
        "name": "receiveApproval",
        "returnType": "boolean",
      },
    },
    Object {
      "from": "State3",
      "to": "end",
      "transition": Object {
        "arguments": Array [
          "Invoice",
        ],
        "name": "sendInvoice",
        "returnType": "void",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [],
      "name": "receiveRequest",
      "returnType": "Travel",
    },
    Object {
      "arguments": Array [
        "Data",
      ],
      "name": "sendData",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "receiveApproval",
      "returnType": "boolean",
    },
    Object {
      "arguments": Array [
        "Invoice",
      ],
      "name": "sendInvoice",
      "returnType": "void",
    },
  ],
  "start": "State0",
  "states": Set {
    "end",
    "State0",
    "State1",
    "State2",
    "State3",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/file.protocol 1`] = `
Object {
  "choices": Set {
    "decision:1",
    "decision:2",
  },
  "final": Set {
    "end",
  },
  "lTransitions": Array [
    Object {
      "from": "decision:1",
      "to": "Open",
      "transition": Object {
        "name": "OK",
      },
    },
    Object {
      "from": "decision:1",
      "to": "end",
      "transition": Object {
        "name": "ERROR",
      },
    },
    Object {
      "from": "decision:2",
      "to": "Read",
      "transition": Object {
        "name": "TRUE",
      },
    },
    Object {
      "from": "decision:2",
      "to": "Close",
      "transition": Object {
        "name": "FALSE",
      },
    },
  ],
  "labels": Array [
    Object {
      "name": "OK",
    },
    Object {
      "name": "ERROR",
    },
    Object {
      "name": "TRUE",
    },
    Object {
      "name": "FALSE",
    },
  ],
  "mTransitions": Array [
    Object {
      "from": "Init",
      "to": "decision:1",
      "transition": Object {
        "arguments": Array [],
        "name": "open",
        "returnType": "Status",
      },
    },
    Object {
      "from": "Open",
      "to": "decision:2",
      "transition": Object {
        "arguments": Array [],
        "name": "hasNext",
        "returnType": "Boolean",
      },
    },
    Object {
      "from": "Open",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "close",
        "returnType": "void",
      },
    },
    Object {
      "from": "Read",
      "to": "Open",
      "transition": Object {
        "arguments": Array [],
        "name": "read",
        "returnType": "void",
      },
    },
    Object {
      "from": "Close",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "close",
        "returnType": "void",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [],
      "name": "open",
      "returnType": "Status",
    },
    Object {
      "arguments": Array [],
      "name": "hasNext",
      "returnType": "Boolean",
    },
    Object {
      "arguments": Array [],
      "name": "close",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "read",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "close",
      "returnType": "void",
    },
  ],
  "start": "Init",
  "states": Set {
    "end",
    "Init",
    "Open",
    "Read",
    "Close",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/infinite/BankProtocol.protocol 1`] = `
Object {
  "choices": Set {},
  "final": Set {
    "end",
  },
  "lTransitions": Array [],
  "labels": Array [],
  "mTransitions": Array [
    Object {
      "from": "State0",
      "to": "State0",
      "transition": Object {
        "arguments": Array [],
        "name": "receivePayment",
        "returnType": "void",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [],
      "name": "receivePayment",
      "returnType": "void",
    },
  ],
  "start": "State0",
  "states": Set {
    "end",
    "State0",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/inner-state-in-decision.protocol 1`] = `
Object {
  "choices": Set {
    "decision:1",
  },
  "final": Set {
    "end",
  },
  "lTransitions": Array [
    Object {
      "from": "decision:1",
      "to": "unknown:3",
      "transition": Object {
        "name": "true",
      },
    },
    Object {
      "from": "decision:1",
      "to": "end",
      "transition": Object {
        "name": "false",
      },
    },
  ],
  "labels": Array [
    Object {
      "name": "true",
    },
    Object {
      "name": "false",
    },
  ],
  "mTransitions": Array [
    Object {
      "from": "Init",
      "to": "Next",
      "transition": Object {
        "arguments": Array [],
        "name": "next",
        "returnType": "void",
      },
    },
    Object {
      "from": "unknown:3",
      "to": "end",
      "transition": Object {
        "arguments": Array [],
        "name": "next3",
        "returnType": "void",
      },
    },
    Object {
      "from": "Next",
      "to": "decision:1",
      "transition": Object {
        "arguments": Array [],
        "name": "next2",
        "returnType": "boolean",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [],
      "name": "next",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "next3",
      "returnType": "void",
    },
    Object {
      "arguments": Array [],
      "name": "next2",
      "returnType": "boolean",
    },
  ],
  "start": "Init",
  "states": Set {
    "end",
    "Init",
    "Next",
    "unknown:3",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/local-client-travelagency-bank/BankProtocol.protocol 1`] = `
Object {
  "choices": Set {},
  "final": Set {
    "end",
  },
  "lTransitions": Array [],
  "labels": Array [],
  "mTransitions": Array [
    Object {
      "from": "State0",
      "to": "State0",
      "transition": Object {
        "arguments": Array [
          "String",
        ],
        "name": "receivePayment",
        "returnType": "PaymentStatus",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [
        "String",
      ],
      "name": "receivePayment",
      "returnType": "PaymentStatus",
    },
  ],
  "start": "State0",
  "states": Set {
    "end",
    "State0",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/local-client-travelagency-bank/ClientProtocol.protocol 1`] = `
Object {
  "choices": Set {
    "decision:1",
  },
  "final": Set {
    "end",
  },
  "lTransitions": Array [
    Object {
      "from": "decision:1",
      "to": "State2",
      "transition": Object {
        "name": "OK",
      },
    },
    Object {
      "from": "decision:1",
      "to": "State0",
      "transition": Object {
        "name": "KO",
      },
    },
    Object {
      "from": "decision:1",
      "to": "State1",
      "transition": Object {
        "name": "TA",
      },
    },
  ],
  "labels": Array [
    Object {
      "name": "OK",
    },
    Object {
      "name": "KO",
    },
    Object {
      "name": "TA",
    },
  ],
  "mTransitions": Array [
    Object {
      "from": "State0",
      "to": "State0",
      "transition": Object {
        "arguments": Array [],
        "name": "receiveInfo",
        "returnType": "String",
      },
    },
    Object {
      "from": "State0",
      "to": "State1",
      "transition": Object {
        "arguments": Array [
          "String",
        ],
        "name": "sendRequest",
        "returnType": "void",
      },
    },
    Object {
      "from": "State1",
      "to": "decision:1",
      "transition": Object {
        "arguments": Array [
          "String",
        ],
        "name": "tryPayment",
        "returnType": "PaymentStatus",
      },
    },
    Object {
      "from": "State2",
      "to": "State0",
      "transition": Object {
        "arguments": Array [],
        "name": "receiveInvoice",
        "returnType": "String",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [],
      "name": "receiveInfo",
      "returnType": "String",
    },
    Object {
      "arguments": Array [
        "String",
      ],
      "name": "sendRequest",
      "returnType": "void",
    },
    Object {
      "arguments": Array [
        "String",
      ],
      "name": "tryPayment",
      "returnType": "PaymentStatus",
    },
    Object {
      "arguments": Array [],
      "name": "receiveInvoice",
      "returnType": "String",
    },
  ],
  "start": "State0",
  "states": Set {
    "end",
    "State0",
    "State1",
    "State2",
  },
}
`;

exports[`mungo examples: automaton test/fixtures/local-client-travelagency-bank/TravelAgencyProtocol.protocol 1`] = `
Object {
  "choices": Set {
    "decision:1",
  },
  "final": Set {
    "end",
  },
  "lTransitions": Array [
    Object {
      "from": "decision:1",
      "to": "State2",
      "transition": Object {
        "name": "OK",
      },
    },
    Object {
      "from": "decision:1",
      "to": "State0",
      "transition": Object {
        "name": "KO",
      },
    },
    Object {
      "from": "decision:1",
      "to": "State1",
      "transition": Object {
        "name": "TA",
      },
    },
  ],
  "labels": Array [
    Object {
      "name": "OK",
    },
    Object {
      "name": "KO",
    },
    Object {
      "name": "TA",
    },
  ],
  "mTransitions": Array [
    Object {
      "from": "State0",
      "to": "State0",
      "transition": Object {
        "arguments": Array [],
        "name": "getInfo",
        "returnType": "String",
      },
    },
    Object {
      "from": "State0",
      "to": "State1",
      "transition": Object {
        "arguments": Array [
          "String",
        ],
        "name": "receiveRequest",
        "returnType": "void",
      },
    },
    Object {
      "from": "State1",
      "to": "decision:1",
      "transition": Object {
        "arguments": Array [
          "String",
        ],
        "name": "tryPayment",
        "returnType": "PaymentStatus",
      },
    },
    Object {
      "from": "State2",
      "to": "State0",
      "transition": Object {
        "arguments": Array [],
        "name": "getInvoice",
        "returnType": "String",
      },
    },
  ],
  "methods": Array [
    Object {
      "arguments": Array [],
      "name": "getInfo",
      "returnType": "String",
    },
    Object {
      "arguments": Array [
        "String",
      ],
      "name": "receiveRequest",
      "returnType": "void",
    },
    Object {
      "arguments": Array [
        "String",
      ],
      "name": "tryPayment",
      "returnType": "PaymentStatus",
    },
    Object {
      "arguments": Array [],
      "name": "getInvoice",
      "returnType": "String",
    },
  ],
  "start": "State0",
  "states": Set {
    "end",
    "State0",
    "State1",
    "State2",
  },
}
`;

exports[`mungo examples: string test/fixtures/ThreeParties/BobProtocol.protocol 1`] = `
"typestate BobProtocol {
Connect = {
void connect(): GreetAlice
}
GreetAlice = {
void sendHelloToAlice(String): GreetCarol
}
GreetCarol = {
void sendHelloToCarol(String): MakeChoice
}
MakeChoice = {
void sendTimeChoiceToAlice(): {
int recvTimeFromAlice(): EndProtocol
},
void sendTimeChoiceToCarol(): {
int recvTimeFromCarol(): EndProtocol
}
}
EndProtocol = {
void endCommunication(): {

}
}
}
"
`;

exports[`mungo examples: string test/fixtures/ThreeParties/FriendProtocol.protocol 1`] = `
"typestate FriendProtocol {
Init = {
void connect(): {
String recvHelloFromBob(): ReceiveChoice
}
}
ReceiveChoice = {
BobChoice recvChoiceFromBob(): <TIME: SendTime, END: EndProtocol>
}
SendTime = {
void sendTimeToBob(int): EndProtocol
}
EndProtocol = {
void endCommunication(): end
}
}
"
`;

exports[`mungo examples: string test/fixtures/TwoParties/AliceProtocol.protocol 1`] = `
"typestate AliceProtocol {
Init = {
void connect(): {
String recvStringFromBob(): ReceiveChoice
}
}
ReceiveChoice = {
BobChoice choiceFromBob(): <TIME: SendTime, GREET: HowAreYou>
}
SendTime = {
void sendTimeToBob(int): EndProtocol
}
HowAreYou = {
void sendGreetToBob(String): EndProtocol
}
EndProtocol = {
void endCommunication(): end
}
}
"
`;

exports[`mungo examples: string test/fixtures/TwoParties/BobProtocol.protocol 1`] = `
"typestate BobProtocol {
Init = {
void connect(): {
void sendStringToAlice(String): SendChoice
}
}
SendChoice = {
void sendTimeChoiceToAlice(): {
int recvTimeFromAlice(): EndProtocol
},
void sendGreetingChoiceToAlice(): {
String recvGreetingFromAlice(): EndProtocol
}
}
EndProtocol = {
void endCommunication(): {

}
}
}
"
`;

exports[`mungo examples: string test/fixtures/collection/CollectionProtocol.protocol 1`] = `
"typestate CollectionProtocol {
Init = {
void initialise(int): Empty
}
Empty = {
void put(Node): NonEmpty,
void close(): end
}
NonEmpty = {
void put(Node): NonEmpty,
Node get(): Unknown
}
Unknown = {
void put(Node): NonEmpty,
BooleanChoice isEmpty(): <TRUE: Empty, FALSE: NonEmpty>
}
}
"
`;

exports[`mungo examples: string test/fixtures/collection/StackUser/StackUserProtocol.protocol 1`] = `
"typestate StackUserProtocol {
Init = {
Stack produce(Stack, int): Consume,
Stack produce(Stack): Consume,
void close(): end
}
Consume = {
Stack produce(Stack, int): Consume,
Stack produce(Stack): Consume,
Stack consume(Stack): Init
}
}
"
`;

exports[`mungo examples: string test/fixtures/collection/StackUser2/StackUserProtocol.protocol 1`] = `
"typestate StackUserProtocol {
Init = {
void produce(int): Consume,
void produce(): Consume,
void close(): end
}
Consume = {
void produce(int): Consume,
void produce(): Consume,
void consume(): Init
}
}
"
`;

exports[`mungo examples: string test/fixtures/distributed-client-travelagency-bank/AProtocol.protocol 1`] = `
"typestate AProtocol {
State0 = {
String receive_requestStringFromC(): State1
}
State1 = {
void send_dataintToC(int): State2
}
State2 = {
Choice1 receive_Choice1LabelFromB(): <APPROVE: State3, REFUSE: State5>
}
State3 = {
Boolean receive_approveBooleanFromB(): State4
}
State4 = {
void send_invoiceStringToBC(String): end
}
State5 = {
Boolean receive_refuseBooleanFromB(): end
}
}
"
`;

exports[`mungo examples: string test/fixtures/distributed-client-travelagency-bank/BProtocol.protocol 1`] = `
"typestate BProtocol {
State0 = {
int receive_paymentintFromC(): State1
}
State1 = {
void send_APPROVEToCA(): State2,
void send_REFUSEToCA(): State4
}
State2 = {
void send_approveBooleanToCA(Boolean): State3
}
State3 = {
String receive_invoiceStringFromA(): end
}
State4 = {
void send_refuseBooleanToCA(Boolean): end
}
}
"
`;

exports[`mungo examples: string test/fixtures/distributed-client-travelagency-bank/Bank.protocol 1`] = `
"typestate BankProtocol {
State0 = {
Data receivePayment(): State1
}
State1 = {
void sendApproval(boolean): end
}
}
"
`;

exports[`mungo examples: string test/fixtures/distributed-client-travelagency-bank/CProtocol.protocol 1`] = `
"typestate CProtocol {
State0 = {
void send_requestStringToA(String): State1
}
State1 = {
int receive_dataintFromA(): State2
}
State2 = {
void send_paymentintToB(int): State3
}
State3 = {
Choice1 receive_Choice1LabelFromB(): <APPROVE: State4, REFUSE: State6>
}
State4 = {
Boolean receive_approveBooleanFromB(): State5
}
State5 = {
String receive_invoiceStringFromA(): end
}
State6 = {
Boolean receive_refuseBooleanFromB(): end
}
}
"
`;

exports[`mungo examples: string test/fixtures/distributed-client-travelagency-bank/Client.protocol 1`] = `
"typestate ClientProtocol {
State0 = {
void sendRequest(Travel): State1
}
State1 = {
Data receiveData(): State2
}
State2 = {
void payment(Data): State3
}
State3 = {
boolean receiveApproval(): <true: State4, false: end>
}
State4 = {
Invoice receiveInvoice(): end
}
}
"
`;

exports[`mungo examples: string test/fixtures/distributed-client-travelagency-bank/TravelAgency.protocol 1`] = `
"typestate TravelAgencyProtocol {
State0 = {
Travel receiveRequest(): State1
}
State1 = {
void sendData(Data): State2
}
State2 = {
boolean receiveApproval(): <true: State3, false: end>
}
State3 = {
void sendInvoice(Invoice): end
}
}
"
`;

exports[`mungo examples: string test/fixtures/file.protocol 1`] = `
"typestate FileProtocol {
Init = {
Status open(): <OK: Open, ERROR: end>
}
Open = {
Boolean hasNext(): <TRUE: Read, FALSE: Close>,
void close(): end
}
Read = {
void read(): Open
}
Close = {
void close(): end
}
}
"
`;

exports[`mungo examples: string test/fixtures/infinite/BankProtocol.protocol 1`] = `
"typestate BankProtocol {
State0 = {
void receivePayment(): State0
}
}
"
`;

exports[`mungo examples: string test/fixtures/inner-state-in-decision.protocol 1`] = `
"typestate InnerStateInDecision {
Init = {
void next(): Next
}
Next = {
boolean next2(): <true: {
void next3(): end
}, false: end>
}
}
"
`;

exports[`mungo examples: string test/fixtures/local-client-travelagency-bank/BankProtocol.protocol 1`] = `
"typestate BankProtocol {
State0 = {
PaymentStatus receivePayment(String): State0
}
}
"
`;

exports[`mungo examples: string test/fixtures/local-client-travelagency-bank/ClientProtocol.protocol 1`] = `
"typestate ClientProtocol {
State0 = {
String receiveInfo(): State0,
void sendRequest(String): State1
}
State1 = {
PaymentStatus tryPayment(String): <OK: State2, KO: State0, TA: State1>
}
State2 = {
String receiveInvoice(): State0
}
}
"
`;

exports[`mungo examples: string test/fixtures/local-client-travelagency-bank/TravelAgencyProtocol.protocol 1`] = `
"typestate TravelAgencyProtocol {
State0 = {
String getInfo(): State0,
void receiveRequest(String): State1
}
State1 = {
PaymentStatus tryPayment(String): <OK: State2, KO: State0, TA: State1>
}
State2 = {
String getInvoice(): State0
}
}
"
`;
